import streamlit as st
import google.generativeai as genai
from dotenv import load_dotenv
import io
import os
import re
from datetime import datetime, timedelta
from PIL import Image
from PyPDF2 import PdfReader
from PyPDF2.errors import PdfReadError
from langchain.text_splitter import RecursiveCharacterTextSplitter
from langchain.vectorstores import FAISS
from langchain_google_genai import GoogleGenerativeAIEmbeddings, ChatGoogleGenerativeAI
from langchain.chains.question_answering import load_qa_chain
from langchain.prompts import PromptTemplate

load_dotenv()  # Load all the environment variables

genai.configure(api_key=os.getenv("GOOGLE_API_KEY"))
st.set_page_config("ScriptInkVisualizer")
st.header("ScriptInkVisualizer")
ChatBot, Image_Caption, PDF_Summarizer = st.tabs(["Chat Bot", "Image captioning", "Pdf Summarizer"])


def set_theme(theme):
    if theme == "normal":
        page_bg_img = """
        <style>
        [data-testid="stAppViewContainer"] {
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center center;
            background-repeat: repeat;
            }
        </style>
        """
        st.markdown(page_bg_img, unsafe_allow_html=True)
    else:
        page_bg_img = """
        <style>
        [data-testid="stAppViewContainer"] {
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center center;
            background-repeat: repeat;
            background-image: url("data:image/svg+xml;utf8,%3Csvg viewBox=%220 0 2000 1125%22 xmlns=%22http:%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cdefs%3E%3Cfilter id=%22b%22 x=%22-200%25%22 y=%22-200%25%22 width=%22500%25%22 height=%22500%25%22%3E%3CfeGaussianBlur in=%22SourceGraphic%22 stdDeviation=%2220%22%2F%3E%3C%2Ffilter%3E%3C%2Fdefs%3E%3Cpath fill=%22%23000336%22 d=%22M0 0h2000v1125H0z%22%2F%3E%3Cellipse cx=%2236.247%22 cy=%221.469%22 rx=%221.896%22 ry=%221.871%22 fill=%22%23fff%22 opacity=%22.127%22%2F%3E%3Cellipse cx=%22123.229%22 cy=%2212.329%22 rx=%221.904%22 ry=%221.679%22 fill=%22%23fff%22 opacity=%22.418%22%2F%3E%3Cellipse cx=%22220.791%22 cy=%2245.723%22 rx=%221.217%22 ry=%221.025%22 fill=%22%23fff%22 opacity=%22.557%22%2F%3E%3Cellipse cx=%22243.007%22 cy=%222.677%22 rx=%221.546%22 ry=%221.419%22 fill=%22%23fff%22 opacity=%22-.045%22%2F%3E%3Cellipse cx=%22375.675%22 cy=%2230.785%22 rx=%221.346%22 ry=%221.31%22 fill=%22%23fff%22 opacity=%22.192%22%2F%3E%3Cellipse cx=%22426.462%22 cy=%2255.305%22 rx=%221.458%22 ry=%221.315%22 fill=%22%23fff%22 opacity=%22.694%22%2F%3E%3Cellipse cx=%22559.595%22 cy=%2248.471%22 rx=%221.515%22 ry=%221.208%22 fill=%22%23fff%22 opacity=%22.712%22%2F%3E%3Cellipse cx=%22584.569%22 cy=%2235.976%22 rx=%221.555%22 ry=%221.368%22 fill=%22%23fff%22 opacity=%22.247%22%2F%3E%3Cellipse cx=%22646.503%22 cy=%2224.627%22 rx=%222.272%22 ry=%221.798%22 fill=%22%23fff%22 opacity=%22.62%22%2F%3E%3Cellipse cx=%22721.066%22 cy=%2210.217%22 rx=%222.126%22 ry=%221.945%22 fill=%22%23fff%22 opacity=%22.672%22%2F%3E%3Cellipse cx=%22843.507%22 cy=%2244.642%22 rx=%222.028%22 ry=%221.572%22 fill=%22%23fff%22 opacity=%22.477%22%2F%3E%3Cellipse cx=%22918.211%22 cy=%2229.156%22 rx=%222.115%22 ry=%221.918%22 fill=%22%23fff%22 opacity=%22.154%22%2F%3E%3Cellipse cx=%221020.903%22 cy=%229.56%22 rx=%222.09%22 ry=%221.761%22 fill=%22%23fff%22 opacity=%22.564%22%2F%3E%3Cellipse cx=%221067.433%22 cy=%2220.877%22 rx=%221.304%22 ry=%221.269%22 fill=%22%23fff%22 opacity=%22.775%22%2F%3E%3Cellipse cx=%221139.234%22 cy=%227.184%22 rx=%221.37%22 ry=%221.098%22 fill=%22%23fff%22 opacity=%22.444%22%2F%3E%3Cellipse cx=%221209.046%22 cy=%2218.906%22 rx=%221.726%22 ry=%221.552%22 fill=%22%23fff%22 opacity=%22-.048%22%2F%3E%3Cellipse cx=%221293.635%22 cy=%2241.873%22 rx=%221.159%22 ry=%221.078%22 fill=%22%23fff%22 opacity=%22.382%22%2F%3E%3Cellipse cx=%221425.776%22 cy=%2211.211%22 rx=%222.39%22 ry=%221.9%22 fill=%22%23fff%22 opacity=%22.317%22%2F%3E%3Cellipse cx=%221509.934%22 cy=%2219.449%22 rx=%221.496%22 ry=%221.106%22 fill=%22%23fff%22 opacity=%22.178%22%2F%3E%3Cellipse cx=%221575.879%22 cy=%2230.382%22 rx=%222.399%22 ry=%221.971%22 fill=%22%23fff%22 opacity=%22.745%22%2F%3E%3Cellipse cx=%221602.633%22 cy=%2255.65%22 rx=%221.37%22 ry=%221.35%22 fill=%22%23fff%22 opacity=%22.433%22%2F%3E%3Cellipse cx=%221733.633%22 cy=%221.947%22 rx=%221.483%22 ry=%221.037%22 fill=%22%23fff%22 opacity=%22.548%22%2F%3E%3Cellipse cx=%221825.068%22 cy=%2250.482%22 rx=%221.873%22 ry=%221.408%22 fill=%22%23fff%22 opacity=%22.101%22%2F%3E%3Cellipse cx=%221911.651%22 cy=%2214.496%22 rx=%221.983%22 ry=%221.77%22 fill=%22%23fff%22 opacity=%22.559%22%2F%3E%3Cellipse cx=%221957.014%22 cy=%2237.973%22 rx=%221.359%22 ry=%221.266%22 fill=%22%23fff%22 opacity=%22.026%22%2F%3E%3Cellipse cx=%2216.635%22 cy=%2266.941%22 rx=%221.33%22 ry=%221.295%22 fill=%22%23fff%22 opacity=%22.355%22%2F%3E%3Cellipse cx=%22149.802%22 cy=%2280.854%22 rx=%221.334%22 ry=%221.19%22 fill=%22%23fff%22 opacity=%22-.022%22%2F%3E%3Cellipse cx=%22222.358%22 cy=%2285.926%22 rx=%222.255%22 ry=%221.782%22 fill=%22%23fff%22 opacity=%22.199%22%2F%3E%3Cellipse cx=%22248.38%22 cy=%2278.047%22 rx=%222.2%22 ry=%221.734%22 fill=%22%23fff%22 opacity=%22.654%22%2F%3E%3Cellipse cx=%22384.635%22 cy=%2263.046%22 rx=%221.663%22 ry=%221.284%22 fill=%22%23fff%22 opacity=%22.387%22%2F%3E%3Cellipse cx=%22419.107%22 cy=%2293.048%22 rx=%222.12%22 ry=%221.692%22 fill=%22%23fff%22 opacity=%22.04%22%2F%3E%3Cellipse cx=%22522.289%22 cy=%2266.353%22 rx=%221.479%22 ry=%221.094%22 fill=%22%23fff%22 opacity=%22.689%22%2F%3E%3Cellipse cx=%22617.066%22 cy=%22108.105%22 rx=%221.296%22 ry=%221.077%22 fill=%22%23fff%22 opacity=%22.175%22%2F%3E%3Cellipse cx=%22687.703%22 cy=%2292.636%22 rx=%221.158%22 ry=%221.098%22 fill=%22%23fff%22 opacity=%22.563%22%2F%3E%3Cellipse cx=%22748.24%22 cy=%2286.154%22 rx=%221.629%22 ry=%221.549%22 fill=%22%23fff%22 opacity=%22.14%22%2F%3E%3Cellipse cx=%22837.787%22 cy=%2265.7%22 rx=%222.077%22 ry=%221.796%22 fill=%22%23fff%22 opacity=%22.741%22%2F%3E%3Cellipse cx=%22904.711%22 cy=%2268.324%22 rx=%221.069%22 ry=%221.011%22 fill=%22%23fff%22 opacity=%22.514%22%2F%3E%3Cellipse cx=%22973.237%22 cy=%2293.543%22 rx=%222.392%22 ry=%221.943%22 fill=%22%23fff%22 opacity=%22.483%22%2F%3E%3Cellipse cx=%221066.4%22 cy=%2277.452%22 rx=%221.472%22 ry=%221.075%22 fill=%22%23fff%22 opacity=%22.014%22%2F%3E%3Cellipse cx=%221122.957%22 cy=%2291.931%22 rx=%221.763%22 ry=%221.461%22 fill=%22%23fff%22 opacity=%22.436%22%2F%3E%3Cellipse cx=%221267.937%22 cy=%2292.829%22 rx=%221.46%22 ry=%221.247%22 fill=%22%23fff%22 opacity=%22.085%22%2F%3E%3Cellipse cx=%221330.353%22 cy=%22102.618%22 rx=%221.432%22 ry=%221.304%22 fill=%22%23fff%22 opacity=%22-.151%22%2F%3E%3Cellipse cx=%221361.604%22 cy=%2271.141%22 rx=%221.603%22 ry=%221.272%22 fill=%22%23fff%22 opacity=%22.68%22%2F%3E%3Cellipse cx=%221512.122%22 cy=%22100.603%22 rx=%221.605%22 ry=%221.535%22 fill=%22%23fff%22 opacity=%22.128%22%2F%3E%3Cellipse cx=%221532.113%22 cy=%2287.436%22 rx=%221.845%22 ry=%221.587%22 fill=%22%23fff%22 opacity=%22.612%22%2F%3E%3Cellipse cx=%221603.584%22 cy=%2283.586%22 rx=%221.441%22 ry=%221.012%22 fill=%22%23fff%22 opacity=%22.296%22%2F%3E%3Cellipse cx=%221758.042%22 cy=%2297.119%22 rx=%221.527%22 ry=%221.228%22 fill=%22%23fff%22 opacity=%22.123%22%2F%3E%3Cellipse cx=%221773.491%22 cy=%22102.13%22 rx=%221.802%22 ry=%221.666%22 fill=%22%23fff%22 opacity=%22.23%22%2F%3E%3Cellipse cx=%221894.822%22 cy=%22107.801%22 rx=%222.285%22 ry=%221.873%22 fill=%22%23fff%22 opacity=%22.196%22%2F%3E%3Cellipse cx=%221966.135%22 cy=%2264.763%22 rx=%221.901%22 ry=%221.614%22 fill=%22%23fff%22 opacity=%22-.024%22%2F%3E%3Cellipse cx=%2235.446%22 cy=%22121.648%22 rx=%221.629%22 ry=%221.163%22 fill=%22%23fff%22 opacity=%22.255%22%2F%3E%3Cellipse cx=%2286.071%22 cy=%22159.996%22 rx=%221.78%22 ry=%221.428%22 fill=%22%23fff%22 opacity=%22.566%22%2F%3E%3Cellipse cx=%22200.053%22 cy=%22152.016%22 rx=%221.351%22 ry=%221.024%22 fill=%22%23fff%22 opacity=%22.278%22%2F%3E%3Cellipse cx=%22274.299%22 cy=%22138.409%22 rx=%221.579%22 ry=%221.244%22 fill=%22%23fff%22 opacity=%22-.1%22%2F%3E%3Cellipse cx=%22372.748%22 cy=%22117.743%22 rx=%222.004%22 ry=%221.804%22 fill=%22%23fff%22 opacity=%22.462%22%2F%3E%3Cellipse cx=%22477.108%22 cy=%22114.21%22 rx=%221.548%22 ry=%221.059%22 fill=%22%23fff%22 opacity=%22.037%22%2F%3E%3Cellipse cx=%22541.57%22 cy=%22116.37%22 rx=%221.907%22 ry=%221.415%22 fill=%22%23fff%22 opacity=%22-.053%22%2F%3E%3Cellipse cx=%22593.817%22 cy=%22140.354%22 rx=%221.783%22 ry=%221.683%22 fill=%22%23fff%22 opacity=%22.926%22%2F%3E%3Cellipse cx=%22697.991%22 cy=%22130.835%22 rx=%222.162%22 ry=%221.909%22 fill=%22%23fff%22 opacity=%22.182%22%2F%3E%3Cellipse cx=%22778%22 cy=%22160.382%22 rx=%222.265%22 ry=%221.922%22 fill=%22%23fff%22 opacity=%22.434%22%2F%3E%3Cellipse cx=%22871.91%22 cy=%22123.998%22 rx=%221.674%22 ry=%221.599%22 fill=%22%23fff%22 opacity=%22.717%22%2F%3E%3Cellipse cx=%22917.102%22 cy=%22157.732%22 rx=%222.242%22 ry=%221.954%22 fill=%22%23fff%22 opacity=%22-.042%22%2F%3E%3Cellipse cx=%221034.774%22 cy=%22133.831%22 rx=%221.597%22 ry=%221.486%22 fill=%22%23fff%22 opacity=%22.164%22%2F%3E%3Cellipse cx=%221053.879%22 cy=%22112.864%22 rx=%221.8%22 ry=%221.599%22 fill=%22%23fff%22 opacity=%22.64%22%2F%3E%3Cellipse cx=%221141.898%22 cy=%22135.451%22 rx=%221.877%22 ry=%221.428%22 fill=%22%23fff%22 opacity=%22.563%22%2F%3E%3Cellipse cx=%221245.188%22 cy=%22161.728%22 rx=%221.771%22 ry=%221.539%22 fill=%22%23fff%22 opacity=%22-.153%22%2F%3E%3Cellipse cx=%221347.467%22 cy=%22116.429%22 rx=%222.152%22 ry=%221.884%22 fill=%22%23fff%22 opacity=%22.324%22%2F%3E%3Cellipse cx=%221427.268%22 cy=%22162.635%22 rx=%222.117%22 ry=%221.818%22 fill=%22%23fff%22 opacity=%22.472%22%2F%3E%3Cellipse cx=%221440.329%22 cy=%22117.053%22 rx=%221.88%22 ry=%221.653%22 fill=%22%23fff%22 opacity=%22.743%22%2F%3E%3Cellipse cx=%221586.39%22 cy=%22141.919%22 rx=%221.962%22 ry=%221.911%22 fill=%22%23fff%22 opacity=%22.466%22%2F%3E%3Cellipse cx=%221627.841%22 cy=%22145.025%22 rx=%221.265%22 ry=%221.259%22 fill=%22%23fff%22 opacity=%22.793%22%2F%3E%3Cellipse cx=%221737.43%22 cy=%22123.054%22 rx=%222.032%22 ry=%221.843%22 fill=%22%23fff%22 opacity=%22.269%22%2F%3E%3Cellipse cx=%221799.457%22 cy=%22132.37%22 rx=%221.303%22 ry=%221.223%22 fill=%22%23fff%22 opacity=%22-.068%22%2F%3E%3Cellipse cx=%221848.032%22 cy=%22166.511%22 rx=%221.694%22 ry=%221.413%22 fill=%22%23fff%22 opacity=%22.783%22%2F%3E%3Cellipse cx=%221944.009%22 cy=%22161.231%22 rx=%221.897%22 ry=%221.855%22 fill=%22%23fff%22 opacity=%22.093%22%2F%3E%3Cellipse cx=%2251.808%22 cy=%22197.654%22 rx=%221.481%22 ry=%221.457%22 fill=%22%23fff%22 opacity=%22.487%22%2F%3E%3Cellipse cx=%22110.092%22 cy=%22205.016%22 rx=%222.024%22 ry=%221.707%22 fill=%22%23fff%22 opacity=%22.187%22%2F%3E%3Cellipse cx=%22218.691%22 cy=%22182.461%22 rx=%221.234%22 ry=%221.045%22 fill=%22%23fff%22 opacity=%22-.06%22%2F%3E%3Cellipse cx=%22284.318%22 cy=%22189.116%22 rx=%221.237%22 ry=%221.13%22 fill=%22%23fff%22 opacity=%22.736%22%2F%3E%3Cellipse cx=%22362.447%22 cy=%22180.302%22 rx=%221.565%22 ry=%221.311%22 fill=%22%23fff%22 opacity=%22.425%22%2F%3E%3Cellipse cx=%22421.079%22 cy=%22186.356%22 rx=%221.654%22 ry=%221.431%22 fill=%22%23fff%22 opacity=%22.007%22%2F%3E%3Cellipse cx=%22502.848%22 cy=%22190.927%22 rx=%222.015%22 ry=%221.939%22 fill=%22%23fff%22 opacity=%22.338%22%2F%3E%3Cellipse cx=%22593.387%22 cy=%22203.029%22 rx=%221.987%22 ry=%221.594%22 fill=%22%23fff%22 opacity=%22.254%22%2F%3E%3Cellipse cx=%22718.958%22 cy=%22203.42%22 rx=%221.557%22 ry=%221.514%22 fill=%22%23fff%22 opacity=%22.611%22%2F%3E%3Cellipse cx=%22767.735%22 cy=%22175.748%22 rx=%221.28%22 ry=%221.108%22 fill=%22%23fff%22 opacity=%22.433%22%2F%3E%3Cellipse cx=%22834.222%22 cy=%22212.154%22 rx=%221.98%22 ry=%221.963%22 fill=%22%23fff%22 opacity=%22.731%22%2F%3E%3Cellipse cx=%22901.276%22 cy=%22199.225%22 rx=%221.255%22 ry=%221.206%22 fill=%22%23fff%22 opacity=%22.709%22%2F%3E%3Cellipse cx=%221013.859%22 cy=%22220.201%22 rx=%222.05%22 ry=%221.868%22 fill=%22%23fff%22 opacity=%22.351%22%2F%3E%3Cellipse cx=%221105.083%22 cy=%22219.832%22 rx=%222.069%22 ry=%221.83%22 fill=%22%23fff%22 opacity=%22.329%22%2F%3E%3Cellipse cx=%221185.509%22 cy=%22196.372%22 rx=%221.756%22 ry=%221.514%22 fill=%22%23fff%22 opacity=%22.263%22%2F%3E%3Cellipse cx=%221223.966%22 cy=%22172.56%22 rx=%221.443%22 ry=%221.379%22 fill=%22%23fff%22 opacity=%22.576%22%2F%3E%3Cellipse cx=%221308.276%22 cy=%22195.846%22 rx=%222.133%22 ry=%221.727%22 fill=%22%23fff%22 opacity=%22.455%22%2F%3E%3Cellipse cx=%221418.364%22 cy=%22203.281%22 rx=%222.269%22 ry=%221.904%22 fill=%22%23fff%22 opacity=%22.404%22%2F%3E%3Cellipse cx=%221462.141%22 cy=%22177.008%22 rx=%222.053%22 ry=%221.851%22 fill=%22%23fff%22 opacity=%22.715%22%2F%3E%3Cellipse cx=%221589.366%22 cy=%22169.648%22 rx=%221.644%22 ry=%221.352%22 fill=%22%23fff%22 opacity=%22.716%22%2F%3E%3Cellipse cx=%221650.966%22 cy=%22170.431%22 rx=%221.896%22 ry=%221.492%22 fill=%22%23fff%22 opacity=%22.88%22%2F%3E%3Cellipse cx=%221715.18%22 cy=%22172.831%22 rx=%221.147%22 ry=%221.027%22 fill=%22%23fff%22 opacity=%22.732%22%2F%3E%3Cellipse cx=%221831.619%22 cy=%22198.707%22 rx=%222.212%22 ry=%221.88%22 fill=%22%23fff%22 opacity=%22.482%22%2F%3E%3Cellipse cx=%221888.087%22 cy=%22188.334%22 rx=%221.195%22 ry=%221.05%22 fill=%22%23fff%22 opacity=%22-.128%22%2F%3E%3Cellipse cx=%221949.815%22 cy=%22210.83%22 rx=%221.072%22 ry=%221.071%22 fill=%22%23fff%22 opacity=%22-.082%22%2F%3E%3Cellipse cx=%2272.356%22 cy=%22274.057%22 rx=%221.834%22 ry=%221.356%22 fill=%22%23fff%22 opacity=%22.269%22%2F%3E%3Cellipse cx=%22158.198%22 cy=%22262.778%22 rx=%221.95%22 ry=%221.505%22 fill=%22%23fff%22 opacity=%22.568%22%2F%3E%3Cellipse cx=%22223.078%22 cy=%22261.027%22 rx=%221.852%22 ry=%221.457%22 fill=%22%23fff%22 opacity=%22.549%22%2F%3E%3Cellipse cx=%22290.207%22 cy=%22259.843%22 rx=%222.113%22 ry=%221.88%22 fill=%22%23fff%22 opacity=%22.194%22%2F%3E%3Cellipse cx=%22358.762%22 cy=%22230.595%22 rx=%221.692%22 ry=%221.317%22 fill=%22%23fff%22 opacity=%22.568%22%2F%3E%3Cellipse cx=%22449.665%22 cy=%22242.107%22 rx=%221.947%22 ry=%221.781%22 fill=%22%23fff%22 opacity=%22.5%22%2F%3E%3Cellipse cx=%22493.168%22 cy=%22275.785%22 rx=%221.922%22 ry=%221.549%22 fill=%22%23fff%22 opacity=%22.671%22%2F%3E%3Cellipse cx=%22577.279%22 cy=%22226.406%22 rx=%221.609%22 ry=%221.18%22 fill=%22%23fff%22 opacity=%22.452%22%2F%3E%3Cellipse cx=%22654.142%22 cy=%22277.818%22 rx=%222.02%22 ry=%221.852%22 fill=%22%23fff%22 opacity=%22.517%22%2F%3E%3Cellipse cx=%22795.834%22 cy=%22256.997%22 rx=%222.075%22 ry=%221.672%22 fill=%22%23fff%22 opacity=%22.766%22%2F%3E%3Cellipse cx=%22859.897%22 cy=%22252.355%22 rx=%221.958%22 ry=%221.643%22 fill=%22%23fff%22 opacity=%22.47%22%2F%3E%3Cellipse cx=%22930.777%22 cy=%22250.478%22 rx=%222.37%22 ry=%221.974%22 fill=%22%23fff%22 opacity=%22.628%22%2F%3E%3Cellipse cx=%22964.647%22 cy=%22270.892%22 rx=%221.647%22 ry=%221.497%22 fill=%22%23fff%22 opacity=%22.274%22%2F%3E%3Cellipse cx=%221086.653%22 cy=%22248.794%22 rx=%222.122%22 ry=%221.922%22 fill=%22%23fff%22 opacity=%22-.007%22%2F%3E%3Cellipse cx=%221135.822%22 cy=%22249.083%22 rx=%221.232%22 ry=%221.136%22 fill=%22%23fff%22 opacity=%22.57%22%2F%3E%3Cellipse cx=%221236.411%22 cy=%22272.444%22 rx=%221.138%22 ry=%221.044%22 fill=%22%23fff%22 opacity=%22.265%22%2F%3E%3Cellipse cx=%221341.142%22 cy=%22234.31%22 rx=%221.465%22 ry=%221.329%22 fill=%22%23fff%22 opacity=%22-.079%22%2F%3E%3Cellipse cx=%221423.797%22 cy=%22273.418%22 rx=%221.245%22 ry=%221.009%22 fill=%22%23fff%22 opacity=%22.481%22%2F%3E%3Cellipse cx=%221488.354%22 cy=%22241.633%22 rx=%221.415%22 ry=%221.326%22 fill=%22%23fff%22 opacity=%22.344%22%2F%3E%3Cellipse cx=%221557.068%22 cy=%22224.382%22 rx=%221.207%22 ry=%221.074%22 fill=%22%23fff%22 opacity=%22.416%22%2F%3E%3Cellipse cx=%221621.803%22 cy=%22234.701%22 rx=%221.85%22 ry=%221.508%22 fill=%22%23fff%22 opacity=%22.657%22%2F%3E%3Cellipse cx=%221754.859%22 cy=%22260.892%22 rx=%221.564%22 ry=%221.171%22 fill=%22%23fff%22 opacity=%22.792%22%2F%3E%3Cellipse cx=%221769.667%22 cy=%22238.731%22 rx=%221.758%22 ry=%221.407%22 fill=%22%23fff%22 opacity=%22-.03%22%2F%3E%3Cellipse cx=%221883.889%22 cy=%22231.453%22 rx=%221.565%22 ry=%221.376%22 fill=%22%23fff%22 opacity=%22.694%22%2F%3E%3Cellipse cx=%221937.952%22 cy=%22243.765%22 rx=%221.836%22 ry=%221.408%22 fill=%22%23fff%22 opacity=%22.585%22%2F%3E%3Cellipse cx=%2225.695%22 cy=%22319.102%22 rx=%221.897%22 ry=%221.808%22 fill=%22%23fff%22 opacity=%22.266%22%2F%3E%3Cellipse cx=%22104.298%22 cy=%22282.896%22 rx=%221.528%22 ry=%221.242%22 fill=%22%23fff%22 opacity=%22.239%22%2F%3E%3Cellipse cx=%22238.858%22 cy=%22327.381%22 rx=%221.214%22 ry=%221.132%22 fill=%22%23fff%22 opacity=%22.407%22%2F%3E%3Cellipse cx=%22269.761%22 cy=%22314.883%22 rx=%222.007%22 ry=%221.886%22 fill=%22%23fff%22 opacity=%22-.014%22%2F%3E%3Cellipse cx=%22374.986%22 cy=%22309.38%22 rx=%222.32%22 ry=%221.924%22 fill=%22%23fff%22 opacity=%22.282%22%2F%3E%3Cellipse cx=%22477.982%22 cy=%22285.07%22 rx=%222.128%22 ry=%221.715%22 fill=%22%23fff%22 opacity=%22.035%22%2F%3E%3Cellipse cx=%22554.853%22 cy=%22285.92%22 rx=%221.698%22 ry=%221.426%22 fill=%22%23fff%22 opacity=%22.486%22%2F%3E%3Cellipse cx=%22622.777%22 cy=%22296.832%22 rx=%221.777%22 ry=%221.422%22 fill=%22%23fff%22 opacity=%22-.166%22%2F%3E%3Cellipse cx=%22701.047%22 cy=%22282.892%22 rx=%222.117%22 ry=%221.893%22 fill=%22%23fff%22 opacity=%22.309%22%2F%3E%3Cellipse cx=%22756.133%22 cy=%22280.985%22 rx=%221.353%22 ry=%221.076%22 fill=%22%23fff%22 opacity=%22.371%22%2F%3E%3Cellipse cx=%22825.522%22 cy=%22313.478%22 rx=%222.132%22 ry=%221.759%22 fill=%22%23fff%22 opacity=%22.216%22%2F%3E%3Cellipse cx=%22885.96%22 cy=%22322.599%22 rx=%222.124%22 ry=%221.738%22 fill=%22%23fff%22 opacity=%22-.13%22%2F%3E%3Cellipse cx=%221011.512%22 cy=%22297.754%22 rx=%221.52%22 ry=%221.066%22 fill=%22%23fff%22 opacity=%22.887%22%2F%3E%3Cellipse cx=%221116.778%22 cy=%22297.955%22 rx=%221.279%22 ry=%221.125%22 fill=%22%23fff%22 opacity=%22-.041%22%2F%3E%3Cellipse cx=%221152.604%22 cy=%22313.549%22 rx=%221.989%22 ry=%221.664%22 fill=%22%23fff%22 opacity=%22.755%22%2F%3E%3Cellipse cx=%221203.207%22 cy=%22284.969%22 rx=%222.152%22 ry=%221.983%22 fill=%22%23fff%22 opacity=%22.806%22%2F%3E%3Cellipse cx=%221303.63%22 cy=%22311.899%22 rx=%221.774%22 ry=%221.644%22 fill=%22%23fff%22 opacity=%22.704%22%2F%3E%3Cellipse cx=%221398.291%22 cy=%22305.647%22 rx=%221.7%22 ry=%221.605%22 fill=%22%23fff%22 opacity=%22-.138%22%2F%3E%3Cellipse cx=%221477.866%22 cy=%22301.543%22 rx=%222.345%22 ry=%221.943%22 fill=%22%23fff%22 opacity=%22.673%22%2F%3E%3Cellipse cx=%221547.945%22 cy=%22281.305%22 rx=%221.882%22 ry=%221.746%22 fill=%22%23fff%22 opacity=%22.642%22%2F%3E%3Cellipse cx=%221602.452%22 cy=%22298.407%22 rx=%221.832%22 ry=%221.338%22 fill=%22%23fff%22 opacity=%22.503%22%2F%3E%3Cellipse cx=%221704.257%22 cy=%22297.99%22 rx=%221.623%22 ry=%221.607%22 fill=%22%23fff%22 opacity=%22.364%22%2F%3E%3Cellipse cx=%221777.677%22 cy=%22318.099%22 rx=%221.721%22 ry=%221.477%22 fill=%22%23fff%22 opacity=%22.52%22%2F%3E%3Cellipse cx=%221901.615%22 cy=%22309.906%22 rx=%222.455%22 ry=%221.959%22 fill=%22%23fff%22 opacity=%22.361%22%2F%3E%3Cellipse cx=%221983.654%22 cy=%22316.46%22 rx=%222.114%22 ry=%221.629%22 fill=%22%23fff%22 opacity=%22-.063%22%2F%3E%3Cellipse cx=%2233.522%22 cy=%22365.008%22 rx=%221.968%22 ry=%221.591%22 fill=%22%23fff%22 opacity=%22.304%22%2F%3E%3Cellipse cx=%22112.732%22 cy=%22379.453%22 rx=%221.917%22 ry=%221.447%22 fill=%22%23fff%22 opacity=%22.053%22%2F%3E%3Cellipse cx=%22180.283%22 cy=%22385.972%22 rx=%221.326%22 ry=%221.212%22 fill=%22%23fff%22 opacity=%22.333%22%2F%3E%3Cellipse cx=%22315.653%22 cy=%22337.448%22 rx=%221.4%22 ry=%221.215%22 fill=%22%23fff%22 opacity=%22.417%22%2F%3E%3Cellipse cx=%22378.967%22 cy=%22377.005%22 rx=%222.102%22 ry=%221.762%22 fill=%22%23fff%22 opacity=%22.098%22%2F%3E%3Cellipse cx=%22437.748%22 cy=%22341.194%22 rx=%222.033%22 ry=%221.593%22 fill=%22%23fff%22 opacity=%22-.106%22%2F%3E%3Cellipse cx=%22558.567%22 cy=%22372.795%22 rx=%222.331%22 ry=%221.895%22 fill=%22%23fff%22 opacity=%22.433%22%2F%3E%3Cellipse cx=%22630.717%22 cy=%22375.25%22 rx=%221.616%22 ry=%221.273%22 fill=%22%23fff%22 opacity=%22.681%22%2F%3E%3Cellipse cx=%22645.082%22 cy=%22337.363%22 rx=%221.812%22 ry=%221.758%22 fill=%22%23fff%22 opacity=%22.503%22%2F%3E%3Cellipse cx=%22749.566%22 cy=%22382.918%22 rx=%222.045%22 ry=%221.83%22 fill=%22%23fff%22 opacity=%22.691%22%2F%3E%3Cellipse cx=%22816.047%22 cy=%22356.955%22 rx=%222.031%22 ry=%221.635%22 fill=%22%23fff%22 opacity=%22.706%22%2F%3E%3Cellipse cx=%22958.4%22 cy=%22349.148%22 rx=%221.431%22 ry=%221.086%22 fill=%22%23fff%22 opacity=%22.236%22%2F%3E%3Cellipse cx=%221022.217%22 cy=%22360.321%22 rx=%222.124%22 ry=%221.983%22 fill=%22%23fff%22 opacity=%22-.049%22%2F%3E%3Cellipse cx=%221061.521%22 cy=%22356.851%22 rx=%221.922%22 ry=%221.912%22 fill=%22%23fff%22 opacity=%22.523%22%2F%3E%3Cellipse cx=%221146.939%22 cy=%22390.735%22 rx=%221.867%22 ry=%221.486%22 fill=%22%23fff%22 opacity=%22-.021%22%2F%3E%3Cellipse cx=%221275.65%22 cy=%22374.881%22 rx=%222.074%22 ry=%221.74%22 fill=%22%23fff%22 opacity=%22.391%22%2F%3E%3Cellipse cx=%221310.412%22 cy=%22353.902%22 rx=%221.387%22 ry=%221.361%22 fill=%22%23fff%22 opacity=%22-.162%22%2F%3E%3Cellipse cx=%221430.484%22 cy=%22384.036%22 rx=%222.226%22 ry=%221.749%22 fill=%22%23fff%22 opacity=%22.416%22%2F%3E%3Cellipse cx=%221447.918%22 cy=%22371.265%22 rx=%221.486%22 ry=%221.273%22 fill=%22%23fff%22 opacity=%22.455%22%2F%3E%3Cellipse cx=%221591.409%22 cy=%22378.448%22 rx=%221.508%22 ry=%221.126%22 fill=%22%23fff%22 opacity=%22-.075%22%2F%3E%3Cellipse cx=%221647.594%22 cy=%22365.456%22 rx=%221.742%22 ry=%221.713%22 fill=%22%23fff%22 opacity=%22.601%22%2F%3E%3Cellipse cx=%221681.676%22 cy=%22346.496%22 rx=%222.234%22 ry=%221.887%22 fill=%22%23fff%22 opacity=%22.41%22%2F%3E%3Cellipse cx=%221777.144%22 cy=%22378.023%22 rx=%221.208%22 ry=%221.007%22 fill=%22%23fff%22 opacity=%22.753%22%2F%3E%3Cellipse cx=%221911.789%22 cy=%22339.943%22 rx=%221.33%22 ry=%221.075%22 fill=%22%23fff%22 opacity=%22.589%22%2F%3E%3Cellipse cx=%221924.626%22 cy=%22354.659%22 rx=%221.757%22 ry=%221.298%22 fill=%22%23fff%22 opacity=%22.587%22%2F%3E%3Cellipse cx=%2242.637%22 cy=%22413.012%22 rx=%222.172%22 ry=%221.993%22 fill=%22%23fff%22 opacity=%22.648%22%2F%3E%3Cellipse cx=%2285.857%22 cy=%22399.236%22 rx=%221.859%22 ry=%221.712%22 fill=%22%23fff%22 opacity=%22.715%22%2F%3E%3Cellipse cx=%22195.891%22 cy=%22435.413%22 rx=%221.372%22 ry=%221.319%22 fill=%22%23fff%22 opacity=%22.169%22%2F%3E%3Cellipse cx=%22298.417%22 cy=%22443.376%22 rx=%221.713%22 ry=%221.379%22 fill=%22%23fff%22 opacity=%22.599%22%2F%3E%3Cellipse cx=%22334.17%22 cy=%22400.636%22 rx=%221.844%22 ry=%221.352%22 fill=%22%23fff%22 opacity=%22.313%22%2F%3E%3Cellipse cx=%22420.857%22 cy=%22413.051%22 rx=%222.06%22 ry=%221.948%22 fill=%22%23fff%22 opacity=%22-.141%22%2F%3E%3Cellipse cx=%22502.116%22 cy=%22413.375%22 rx=%221.894%22 ry=%221.444%22 fill=%22%23fff%22 opacity=%22.112%22%2F%3E%3Cellipse cx=%22572.107%22 cy=%22445.973%22 rx=%221.645%22 ry=%221.459%22 fill=%22%23fff%22 opacity=%22.548%22%2F%3E%3Cellipse cx=%22652.096%22 cy=%22402.154%22 rx=%222.12%22 ry=%221.86%22 fill=%22%23fff%22 opacity=%22.381%22%2F%3E%3Cellipse cx=%22728.894%22 cy=%22433.115%22 rx=%221.565%22 ry=%221.101%22 fill=%22%23fff%22 opacity=%22.242%22%2F%3E%3Cellipse cx=%22822.795%22 cy=%22419.685%22 rx=%221.847%22 ry=%221.668%22 fill=%22%23fff%22 opacity=%22.797%22%2F%3E%3Cellipse cx=%22941.533%22 cy=%22421.111%22 rx=%222.008%22 ry=%221.892%22 fill=%22%23fff%22 opacity=%22-.026%22%2F%3E%3Cellipse cx=%221015.92%22 cy=%22397.928%22 rx=%222.242%22 ry=%221.934%22 fill=%22%23fff%22 opacity=%22.421%22%2F%3E%3Cellipse cx=%221097.478%22 cy=%22442.662%22 rx=%221.686%22 ry=%221.482%22 fill=%22%23fff%22 opacity=%22-.094%22%2F%3E%3Cellipse cx=%221181.76%22 cy=%22403.388%22 rx=%221.717%22 ry=%221.49%22 fill=%22%23fff%22 opacity=%22.051%22%2F%3E%3Cellipse cx=%221227.172%22 cy=%22426.094%22 rx=%221.983%22 ry=%221.513%22 fill=%22%23fff%22 opacity=%22-.177%22%2F%3E%3Cellipse cx=%221312.705%22 cy=%22395.75%22 rx=%221.695%22 ry=%221.366%22 fill=%22%23fff%22 opacity=%22.879%22%2F%3E%3Cellipse cx=%221396.429%22 cy=%22419.158%22 rx=%221.336%22 ry=%221.268%22 fill=%22%23fff%22 opacity=%22.316%22%2F%3E%3Cellipse cx=%221509.733%22 cy=%22406.311%22 rx=%221.496%22 ry=%221.082%22 fill=%22%23fff%22 opacity=%22.643%22%2F%3E%3Cellipse cx=%221559.541%22 cy=%22427.28%22 rx=%221.438%22 ry=%221.228%22 fill=%22%23fff%22 opacity=%22.118%22%2F%3E%3Cellipse cx=%221650.781%22 cy=%22414.952%22 rx=%221.736%22 ry=%221.636%22 fill=%22%23fff%22 opacity=%22.406%22%2F%3E%3Cellipse cx=%221729.437%22 cy=%22413.192%22 rx=%222.112%22 ry=%221.895%22 fill=%22%23fff%22 opacity=%22.028%22%2F%3E%3Cellipse cx=%221771.632%22 cy=%22418.534%22 rx=%221.969%22 ry=%221.482%22 fill=%22%23fff%22 opacity=%22.393%22%2F%3E%3Cellipse cx=%221847.808%22 cy=%22427.228%22 rx=%221.082%22 ry=%221.026%22 fill=%22%23fff%22 opacity=%22.49%22%2F%3E%3Cellipse cx=%221964.792%22 cy=%22437.084%22 rx=%221.825%22 ry=%221.587%22 fill=%22%23fff%22 opacity=%22.089%22%2F%3E%3Cellipse cx=%2220.91%22 cy=%22488.405%22 rx=%221.492%22 ry=%221.243%22 fill=%22%23fff%22 opacity=%22-.106%22%2F%3E%3Cellipse cx=%22118.682%22 cy=%22488.466%22 rx=%221.785%22 ry=%221.733%22 fill=%22%23fff%22 opacity=%22.464%22%2F%3E%3Cellipse cx=%22208.891%22 cy=%22479.947%22 rx=%221.759%22 ry=%221.306%22 fill=%22%23fff%22 opacity=%22.53%22%2F%3E%3Cellipse cx=%22291.953%22 cy=%22455.205%22 rx=%221.842%22 ry=%221.784%22 fill=%22%23fff%22 opacity=%22.102%22%2F%3E%3Cellipse cx=%22359.638%22 cy=%22488.779%22 rx=%222.293%22 ry=%221.826%22 fill=%22%23fff%22 opacity=%22-.006%22%2F%3E%3Cellipse cx=%22462.218%22 cy=%22495.214%22 rx=%222.049%22 ry=%221.703%22 fill=%22%23fff%22 opacity=%22.236%22%2F%3E%3Cellipse cx=%22494.242%22 cy=%22483.433%22 rx=%221.779%22 ry=%221.452%22 fill=%22%23fff%22 opacity=%22.564%22%2F%3E%3Cellipse cx=%22565.274%22 cy=%22459.615%22 rx=%221.562%22 ry=%221.444%22 fill=%22%23fff%22 opacity=%22.094%22%2F%3E%3Cellipse cx=%22700.391%22 cy=%22475.542%22 rx=%222.405%22 ry=%221.934%22 fill=%22%23fff%22 opacity=%22-.004%22%2F%3E%3Cellipse cx=%22754.574%22 cy=%22491.321%22 rx=%222.008%22 ry=%221.973%22 fill=%22%23fff%22 opacity=%22.473%22%2F%3E%3Cellipse cx=%22851.441%22 cy=%22491.732%22 rx=%221.692%22 ry=%221.374%22 fill=%22%23fff%22 opacity=%22-.103%22%2F%3E%3Cellipse cx=%22957.038%22 cy=%22464.709%22 rx=%221.987%22 ry=%221.963%22 fill=%22%23fff%22 opacity=%22.312%22%2F%3E%3Cellipse cx=%221002.753%22 cy=%22468.009%22 rx=%222.016%22 ry=%221.719%22 fill=%22%23fff%22 opacity=%22-.017%22%2F%3E%3Cellipse cx=%221084.298%22 cy=%22499.274%22 rx=%221.548%22 ry=%221.101%22 fill=%22%23fff%22 opacity=%22.248%22%2F%3E%3Cellipse cx=%221141.257%22 cy=%22486.704%22 rx=%221.664%22 ry=%221.254%22 fill=%22%23fff%22 opacity=%22.485%22%2F%3E%3Cellipse cx=%221217.504%22 cy=%22493.64%22 rx=%221.288%22 ry=%221.037%22 fill=%22%23fff%22 opacity=%22.293%22%2F%3E%3Cellipse cx=%221344.576%22 cy=%22467.312%22 rx=%222.032%22 ry=%221.553%22 fill=%22%23fff%22 opacity=%22.545%22%2F%3E%3Cellipse cx=%221387.143%22 cy=%22451.589%22 rx=%222.021%22 ry=%221.685%22 fill=%22%23fff%22 opacity=%22-.225%22%2F%3E%3Cellipse cx=%221467.308%22 cy=%22476.936%22 rx=%221.711%22 ry=%221.682%22 fill=%22%23fff%22 opacity=%22.241%22%2F%3E%3Cellipse cx=%221533.543%22 cy=%22467.614%22 rx=%221.394%22 ry=%221.188%22 fill=%22%23fff%22 opacity=%22.658%22%2F%3E%3Cellipse cx=%221603.436%22 cy=%22501.668%22 rx=%222.173%22 ry=%221.863%22 fill=%22%23fff%22 opacity=%22.032%22%2F%3E%3Cellipse cx=%221701.546%22 cy=%22454.886%22 rx=%221.866%22 ry=%221.404%22 fill=%22%23fff%22 opacity=%22.072%22%2F%3E%3Cellipse cx=%221805.506%22 cy=%22483.899%22 rx=%221.219%22 ry=%221.009%22 fill=%22%23fff%22 opacity=%22.828%22%2F%3E%3Cellipse cx=%221883.476%22 cy=%22490.906%22 rx=%221.327%22 ry=%221.251%22 fill=%22%23fff%22 opacity=%22-.009%22%2F%3E%3Cellipse cx=%221980.54%22 cy=%22493.42%22 rx=%222.096%22 ry=%221.761%22 fill=%22%23fff%22 opacity=%22.339%22%2F%3E%3Cellipse cx=%2267.294%22 cy=%22530.585%22 rx=%221.345%22 ry=%221.274%22 fill=%22%23fff%22 opacity=%22.598%22%2F%3E%3Cellipse cx=%2282.385%22 cy=%22540.893%22 rx=%221.526%22 ry=%221.497%22 fill=%22%23fff%22 opacity=%22.779%22%2F%3E%3Cellipse cx=%22197.281%22 cy=%22532.78%22 rx=%222.138%22 ry=%221.656%22 fill=%22%23fff%22 opacity=%22.204%22%2F%3E%3Cellipse cx=%22284.449%22 cy=%22507.461%22 rx=%221.938%22 ry=%221.824%22 fill=%22%23fff%22 opacity=%22.037%22%2F%3E%3Cellipse cx=%22341.838%22 cy=%22553.308%22 rx=%221.863%22 ry=%221.407%22 fill=%22%23fff%22 opacity=%22.208%22%2F%3E%3Cellipse cx=%22474.489%22 cy=%22533.613%22 rx=%222.317%22 ry=%221.945%22 fill=%22%23fff%22 opacity=%22.174%22%2F%3E%3Cellipse cx=%22505.964%22 cy=%22530.019%22 rx=%221.348%22 ry=%221.024%22 fill=%22%23fff%22 opacity=%22.591%22%2F%3E%3Cellipse cx=%22590.053%22 cy=%22508.868%22 rx=%221.771%22 ry=%221.495%22 fill=%22%23fff%22 opacity=%22.444%22%2F%3E%3Cellipse cx=%22649.053%22 cy=%22557.634%22 rx=%221.569%22 ry=%221.365%22 fill=%22%23fff%22 opacity=%22.257%22%2F%3E%3Cellipse cx=%22752.307%22 cy=%22548.766%22 rx=%221.92%22 ry=%221.761%22 fill=%22%23fff%22 opacity=%22.887%22%2F%3E%3Cellipse cx=%22803.197%22 cy=%22514.647%22 rx=%221.944%22 ry=%221.58%22 fill=%22%23fff%22 opacity=%22.589%22%2F%3E%3Cellipse cx=%22892.719%22 cy=%22551.203%22 rx=%221.251%22 ry=%221.237%22 fill=%22%23fff%22 opacity=%22-.06%22%2F%3E%3Cellipse cx=%221017.951%22 cy=%22541.146%22 rx=%222.305%22 ry=%221.823%22 fill=%22%23fff%22 opacity=%22.365%22%2F%3E%3Cellipse cx=%221076.624%22 cy=%22517.103%22 rx=%221.537%22 ry=%221.117%22 fill=%22%23fff%22 opacity=%22.661%22%2F%3E%3Cellipse cx=%221148.135%22 cy=%22522.871%22 rx=%221.299%22 ry=%221.216%22 fill=%22%23fff%22 opacity=%22.042%22%2F%3E%3Cellipse cx=%221257.317%22 cy=%22539.634%22 rx=%221.712%22 ry=%221.243%22 fill=%22%23fff%22 opacity=%22.103%22%2F%3E%3Cellipse cx=%221350.798%22 cy=%22553.774%22 rx=%221.765%22 ry=%221.358%22 fill=%22%23fff%22 opacity=%22.371%22%2F%3E%3Cellipse cx=%221404.177%22 cy=%22505.687%22 rx=%222.06%22 ry=%221.652%22 fill=%22%23fff%22 opacity=%22.015%22%2F%3E%3Cellipse cx=%221465.655%22 cy=%22549.367%22 rx=%221.28%22 ry=%221.039%22 fill=%22%23fff%22 opacity=%22.832%22%2F%3E%3Cellipse cx=%221592.644%22 cy=%22511.061%22 rx=%221.542%22 ry=%221.427%22 fill=%22%23fff%22 opacity=%22.438%22%2F%3E%3Cellipse cx=%221629.824%22 cy=%22536.162%22 rx=%221.835%22 ry=%221.781%22 fill=%22%23fff%22 opacity=%22-.105%22%2F%3E%3Cellipse cx=%221720.88%22 cy=%22524.353%22 rx=%221.864%22 ry=%221.601%22 fill=%22%23fff%22 opacity=%22-.062%22%2F%3E%3Cellipse cx=%221779.541%22 cy=%22520.819%22 rx=%221.651%22 ry=%221.393%22 fill=%22%23fff%22 opacity=%22.361%22%2F%3E%3Cellipse cx=%221866.955%22 cy=%22521.33%22 rx=%221.881%22 ry=%221.545%22 fill=%22%23fff%22 opacity=%22.298%22%2F%3E%3Cellipse cx=%221981.138%22 cy=%22535.328%22 rx=%222.252%22 ry=%221.995%22 fill=%22%23fff%22 opacity=%22.862%22%2F%3E%3Cellipse cx=%2250.701%22 cy=%22591.139%22 rx=%221.002%22 ry=%221.001%22 fill=%22%23fff%22 opacity=%22.154%22%2F%3E%3Cellipse cx=%2283.328%22 cy=%22606.031%22 rx=%221.561%22 ry=%221.097%22 fill=%22%23fff%22 opacity=%22.109%22%2F%3E%3Cellipse cx=%22216.282%22 cy=%22595.593%22 rx=%221.275%22 ry=%221.045%22 fill=%22%23fff%22 opacity=%22.264%22%2F%3E%3Cellipse cx=%22309.96%22 cy=%22577.302%22 rx=%221.441%22 ry=%221.194%22 fill=%22%23fff%22 opacity=%22.678%22%2F%3E%3Cellipse cx=%22320.38%22 cy=%22606.945%22 rx=%222.222%22 ry=%221.907%22 fill=%22%23fff%22 opacity=%22.435%22%2F%3E%3Cellipse cx=%22461.639%22 cy=%22569.827%22 rx=%221.341%22 ry=%221.284%22 fill=%22%23fff%22 opacity=%22.531%22%2F%3E%3Cellipse cx=%22485.257%22 cy=%22596.683%22 rx=%221.428%22 ry=%221.271%22 fill=%22%23fff%22 opacity=%22.175%22%2F%3E%3Cellipse cx=%22589.784%22 cy=%22593.811%22 rx=%221.363%22 ry=%221.088%22 fill=%22%23fff%22 opacity=%22.028%22%2F%3E%3Cellipse cx=%22712.356%22 cy=%22593.436%22 rx=%221.77%22 ry=%221.491%22 fill=%22%23fff%22 opacity=%22-.129%22%2F%3E%3Cellipse cx=%22783.908%22 cy=%22591.087%22 rx=%222.26%22 ry=%221.903%22 fill=%22%23fff%22 opacity=%22.19%22%2F%3E%3Cellipse cx=%22819.583%22 cy=%22593.545%22 rx=%221.775%22 ry=%221.565%22 fill=%22%23fff%22 opacity=%22.261%22%2F%3E%3Cellipse cx=%22885.58%22 cy=%22596.136%22 rx=%221.926%22 ry=%221.537%22 fill=%22%23fff%22 opacity=%22.827%22%2F%3E%3Cellipse cx=%22996.939%22 cy=%22602.324%22 rx=%221.109%22 ry=%221.072%22 fill=%22%23fff%22 opacity=%22.75%22%2F%3E%3Cellipse cx=%221109.789%22 cy=%22593.95%22 rx=%221.333%22 ry=%221.208%22 fill=%22%23fff%22 opacity=%22.786%22%2F%3E%3Cellipse cx=%221179.072%22 cy=%22600.853%22 rx=%221.727%22 ry=%221.382%22 fill=%22%23fff%22 opacity=%22.228%22%2F%3E%3Cellipse cx=%221266.905%22 cy=%22587.092%22 rx=%221.525%22 ry=%221.232%22 fill=%22%23fff%22 opacity=%22.279%22%2F%3E%3Cellipse cx=%221300.192%22 cy=%22605.744%22 rx=%221.309%22 ry=%221.29%22 fill=%22%23fff%22 opacity=%22-.061%22%2F%3E%3Cellipse cx=%221407.643%22 cy=%22591.682%22 rx=%222.03%22 ry=%221.823%22 fill=%22%23fff%22 opacity=%22.659%22%2F%3E%3Cellipse cx=%221511.223%22 cy=%22575.426%22 rx=%221.552%22 ry=%221.54%22 fill=%22%23fff%22 opacity=%22-.115%22%2F%3E%3Cellipse cx=%221527.122%22 cy=%22572.891%22 rx=%222.408%22 ry=%221.992%22 fill=%22%23fff%22 opacity=%22.336%22%2F%3E%3Cellipse cx=%221661.453%22 cy=%22600.569%22 rx=%221.518%22 ry=%221.348%22 fill=%22%23fff%22 opacity=%22.446%22%2F%3E%3Cellipse cx=%221699.15%22 cy=%22563.04%22 rx=%221.123%22 ry=%221.017%22 fill=%22%23fff%22 opacity=%22.621%22%2F%3E%3Cellipse cx=%221763.56%22 cy=%22591.92%22 rx=%222.1%22 ry=%221.705%22 fill=%22%23fff%22 opacity=%22.08%22%2F%3E%3Cellipse cx=%221899.704%22 cy=%22600.226%22 rx=%221.84%22 ry=%221.437%22 fill=%22%23fff%22 opacity=%22.368%22%2F%3E%3Cellipse cx=%221985.832%22 cy=%22601.579%22 rx=%221.338%22 ry=%221.3%22 fill=%22%23fff%22 opacity=%22.359%22%2F%3E%3Cellipse cx=%225.03%22 cy=%22668.45%22 rx=%221.48%22 ry=%221.396%22 fill=%22%23fff%22 opacity=%22.002%22%2F%3E%3Cellipse cx=%22113.651%22 cy=%22647.123%22 rx=%222.384%22 ry=%221.941%22 fill=%22%23fff%22 opacity=%22.563%22%2F%3E%3Cellipse cx=%22170.677%22 cy=%22654.043%22 rx=%221.513%22 ry=%221.24%22 fill=%22%23fff%22 opacity=%22.545%22%2F%3E%3Cellipse cx=%22318.778%22 cy=%22652.166%22 rx=%221.501%22 ry=%221.322%22 fill=%22%23fff%22 opacity=%22.563%22%2F%3E%3Cellipse cx=%22389.909%22 cy=%22642.122%22 rx=%222.011%22 ry=%221.74%22 fill=%22%23fff%22 opacity=%22.037%22%2F%3E%3Cellipse cx=%22431.921%22 cy=%22634.873%22 rx=%221.907%22 ry=%221.634%22 fill=%22%23fff%22 opacity=%22-.188%22%2F%3E%3Cellipse cx=%22551.737%22 cy=%22651.561%22 rx=%221.49%22 ry=%221.348%22 fill=%22%23fff%22 opacity=%22.153%22%2F%3E%3Cellipse cx=%22574.852%22 cy=%22651.479%22 rx=%221.903%22 ry=%221.54%22 fill=%22%23fff%22 opacity=%22.044%22%2F%3E%3Cellipse cx=%22684.564%22 cy=%22633.034%22 rx=%221.641%22 ry=%221.396%22 fill=%22%23fff%22 opacity=%22.658%22%2F%3E%3Cellipse cx=%22749.296%22 cy=%22654.161%22 rx=%221.151%22 ry=%221.124%22 fill=%22%23fff%22 opacity=%22.153%22%2F%3E%3Cellipse cx=%22802.742%22 cy=%22661.123%22 rx=%221.769%22 ry=%221.584%22 fill=%22%23fff%22 opacity=%22-.223%22%2F%3E%3Cellipse cx=%22880.471%22 cy=%22626.959%22 rx=%221.714%22 ry=%221.679%22 fill=%22%23fff%22 opacity=%22-.112%22%2F%3E%3Cellipse cx=%221017.762%22 cy=%22633.065%22 rx=%222.181%22 ry=%221.762%22 fill=%22%23fff%22 opacity=%22.393%22%2F%3E%3Cellipse cx=%221051.112%22 cy=%22660.191%22 rx=%221.888%22 ry=%221.447%22 fill=%22%23fff%22 opacity=%22.21%22%2F%3E%3Cellipse cx=%221126.073%22 cy=%22667.639%22 rx=%221.71%22 ry=%221.434%22 fill=%22%23fff%22 opacity=%22.046%22%2F%3E%3Cellipse cx=%221245.044%22 cy=%22633.788%22 rx=%222.354%22 ry=%221.975%22 fill=%22%23fff%22 opacity=%22.819%22%2F%3E%3Cellipse cx=%221307.882%22 cy=%22635.983%22 rx=%221.497%22 ry=%221.475%22 fill=%22%23fff%22 opacity=%22-.176%22%2F%3E%3Cellipse cx=%221403.632%22 cy=%22650.138%22 rx=%221.235%22 ry=%221.211%22 fill=%22%23fff%22 opacity=%22.223%22%2F%3E%3Cellipse cx=%221458.236%22 cy=%22640.237%22 rx=%221.762%22 ry=%221.638%22 fill=%22%23fff%22 opacity=%22.453%22%2F%3E%3Cellipse cx=%221578.971%22 cy=%22666.439%22 rx=%221.422%22 ry=%221.387%22 fill=%22%23fff%22 opacity=%22.521%22%2F%3E%3Cellipse cx=%221617.071%22 cy=%22644.986%22 rx=%221.404%22 ry=%221.321%22 fill=%22%23fff%22 opacity=%22.478%22%2F%3E%3Cellipse cx=%221722.364%22 cy=%22649.413%22 rx=%221.681%22 ry=%221.587%22 fill=%22%23fff%22 opacity=%22.496%22%2F%3E%3Cellipse cx=%221814.976%22 cy=%22655.804%22 rx=%221.169%22 ry=%221.14%22 fill=%22%23fff%22 opacity=%22.434%22%2F%3E%3Cellipse cx=%221871.476%22 cy=%22671.23%22 rx=%222.104%22 ry=%221.808%22 fill=%22%23fff%22 opacity=%22.85%22%2F%3E%3Cellipse cx=%221954.329%22 cy=%22656.251%22 rx=%222.076%22 ry=%221.91%22 fill=%22%23fff%22 opacity=%22.153%22%2F%3E%3Cellipse cx=%2211.619%22 cy=%22678.142%22 rx=%221.844%22 ry=%221.437%22 fill=%22%23fff%22 opacity=%22.385%22%2F%3E%3Cellipse cx=%22102.823%22 cy=%22699.579%22 rx=%221.474%22 ry=%221.349%22 fill=%22%23fff%22 opacity=%22-.177%22%2F%3E%3Cellipse cx=%22184.116%22 cy=%22683.997%22 rx=%221.856%22 ry=%221.768%22 fill=%22%23fff%22 opacity=%22.588%22%2F%3E%3Cellipse cx=%22257.691%22 cy=%22701.215%22 rx=%221.753%22 ry=%221.472%22 fill=%22%23fff%22 opacity=%22.082%22%2F%3E%3Cellipse cx=%22344.003%22 cy=%22708.125%22 rx=%222.074%22 ry=%221.822%22 fill=%22%23fff%22 opacity=%22.009%22%2F%3E%3Cellipse cx=%22415.813%22 cy=%22709.591%22 rx=%221.721%22 ry=%221.565%22 fill=%22%23fff%22 opacity=%22.029%22%2F%3E%3Cellipse cx=%22490.413%22 cy=%22690.199%22 rx=%221.827%22 ry=%221.634%22 fill=%22%23fff%22 opacity=%22.139%22%2F%3E%3Cellipse cx=%22628.855%22 cy=%22707.479%22 rx=%221.31%22 ry=%221.152%22 fill=%22%23fff%22 opacity=%22.114%22%2F%3E%3Cellipse cx=%22685.555%22 cy=%22704.926%22 rx=%221.18%22 ry=%221.07%22 fill=%22%23fff%22 opacity=%22.097%22%2F%3E%3Cellipse cx=%22747.763%22 cy=%22708.176%22 rx=%221.7%22 ry=%221.549%22 fill=%22%23fff%22 opacity=%22.319%22%2F%3E%3Cellipse cx=%22802.962%22 cy=%22681.477%22 rx=%222.314%22 ry=%221.958%22 fill=%22%23fff%22 opacity=%22.341%22%2F%3E%3Cellipse cx=%22957.455%22 cy=%22672.694%22 rx=%221.727%22 ry=%221.285%22 fill=%22%23fff%22 opacity=%22.168%22%2F%3E%3Cellipse cx=%22991.526%22 cy=%22708.607%22 rx=%221.702%22 ry=%221.23%22 fill=%22%23fff%22 opacity=%22-.221%22%2F%3E%3Cellipse cx=%221043.106%22 cy=%22673.879%22 rx=%221.687%22 ry=%221.677%22 fill=%22%23fff%22 opacity=%22.085%22%2F%3E%3Cellipse cx=%221137.147%22 cy=%22688.06%22 rx=%222.139%22 ry=%221.757%22 fill=%22%23fff%22 opacity=%22.675%22%2F%3E%3Cellipse cx=%221272.884%22 cy=%22707.018%22 rx=%221.611%22 ry=%221.553%22 fill=%22%23fff%22 opacity=%22.9%22%2F%3E%3Cellipse cx=%221296.732%22 cy=%22725.572%22 rx=%221.918%22 ry=%221.848%22 fill=%22%23fff%22 opacity=%22.843%22%2F%3E%3Cellipse cx=%221430.044%22 cy=%22708.838%22 rx=%221.379%22 ry=%221.319%22 fill=%22%23fff%22 opacity=%22.228%22%2F%3E%3Cellipse cx=%221518.066%22 cy=%22683.292%22 rx=%222.25%22 ry=%221.948%22 fill=%22%23fff%22 opacity=%22.121%22%2F%3E%3Cellipse cx=%221552.856%22 cy=%22678.149%22 rx=%221.392%22 ry=%221.123%22 fill=%22%23fff%22 opacity=%22.228%22%2F%3E%3Cellipse cx=%221610.929%22 cy=%22687.541%22 rx=%222.176%22 ry=%221.963%22 fill=%22%23fff%22 opacity=%22-.191%22%2F%3E%3Cellipse cx=%221740.341%22 cy=%22682.651%22 rx=%221.084%22 ry=%221.033%22 fill=%22%23fff%22 opacity=%22.623%22%2F%3E%3Cellipse cx=%221787.229%22 cy=%22708.476%22 rx=%221.814%22 ry=%221.62%22 fill=%22%23fff%22 opacity=%22.682%22%2F%3E%3Cellipse cx=%221868.725%22 cy=%22686.042%22 rx=%222.047%22 ry=%221.784%22 fill=%22%23fff%22 opacity=%22.63%22%2F%3E%3Cellipse cx=%221950.453%22 cy=%22698.099%22 rx=%221.465%22 ry=%221.314%22 fill=%22%23fff%22 opacity=%22.097%22%2F%3E%3Cellipse cx=%2273.093%22 cy=%22747.501%22 rx=%221.805%22 ry=%221.434%22 fill=%22%23fff%22 opacity=%22.054%22%2F%3E%3Cellipse cx=%22137.202%22 cy=%22751.415%22 rx=%221.682%22 ry=%221.596%22 fill=%22%23fff%22 opacity=%22.752%22%2F%3E%3Cellipse cx=%22175.277%22 cy=%22729.07%22 rx=%221.462%22 ry=%221.381%22 fill=%22%23fff%22 opacity=%22.507%22%2F%3E%3Cellipse cx=%22255.693%22 cy=%22749.378%22 rx=%221.878%22 ry=%221.83%22 fill=%22%23fff%22 opacity=%22.502%22%2F%3E%3Cellipse cx=%22356.443%22 cy=%22772.249%22 rx=%221.805%22 ry=%221.407%22 fill=%22%23fff%22 opacity=%22.523%22%2F%3E%3Cellipse cx=%22445.599%22 cy=%22737.926%22 rx=%221.694%22 ry=%221.195%22 fill=%22%23fff%22 opacity=%22.709%22%2F%3E%3Cellipse cx=%22534.148%22 cy=%22736.797%22 rx=%221.639%22 ry=%221.337%22 fill=%22%23fff%22 opacity=%22.116%22%2F%3E%3Cellipse cx=%22609.642%22 cy=%22749.33%22 rx=%221.176%22 ry=%221.162%22 fill=%22%23fff%22 opacity=%22.647%22%2F%3E%3Cellipse cx=%22695.447%22 cy=%22759.902%22 rx=%221.698%22 ry=%221.657%22 fill=%22%23fff%22 opacity=%22.455%22%2F%3E%3Cellipse cx=%22779.68%22 cy=%22751.67%22 rx=%222.127%22 ry=%221.977%22 fill=%22%23fff%22 opacity=%22.79%22%2F%3E%3Cellipse cx=%22807.634%22 cy=%22764.638%22 rx=%221.451%22 ry=%221.336%22 fill=%22%23fff%22 opacity=%22.653%22%2F%3E%3Cellipse cx=%22953.523%22 cy=%22747.118%22 rx=%221.698%22 ry=%221.319%22 fill=%22%23fff%22 opacity=%22.137%22%2F%3E%3Cellipse cx=%221026.048%22 cy=%22738.288%22 rx=%221.02%22 ry=%221.009%22 fill=%22%23fff%22 opacity=%22.631%22%2F%3E%3Cellipse cx=%221085.312%22 cy=%22759.644%22 rx=%221.522%22 ry=%221.347%22 fill=%22%23fff%22 opacity=%22.831%22%2F%3E%3Cellipse cx=%221178.204%22 cy=%22780.108%22 rx=%221.643%22 ry=%221.157%22 fill=%22%23fff%22 opacity=%22.661%22%2F%3E%3Cellipse cx=%221264.004%22 cy=%22728.649%22 rx=%221.444%22 ry=%221.422%22 fill=%22%23fff%22 opacity=%22.404%22%2F%3E%3Cellipse cx=%221309.789%22 cy=%22771.442%22 rx=%222.357%22 ry=%221.911%22 fill=%22%23fff%22 opacity=%22.325%22%2F%3E%3Cellipse cx=%221388.87%22 cy=%22754.094%22 rx=%222.029%22 ry=%221.614%22 fill=%22%23fff%22 opacity=%22-.221%22%2F%3E%3Cellipse cx=%221459.788%22 cy=%22729.435%22 rx=%221.556%22 ry=%221.188%22 fill=%22%23fff%22 opacity=%22.888%22%2F%3E%3Cellipse cx=%221544.19%22 cy=%22781.245%22 rx=%222.335%22 ry=%221.925%22 fill=%22%23fff%22 opacity=%22.246%22%2F%3E%3Cellipse cx=%221677.05%22 cy=%22742.844%22 rx=%221.622%22 ry=%221.361%22 fill=%22%23fff%22 opacity=%22.393%22%2F%3E%3Cellipse cx=%221709.116%22 cy=%22757.242%22 rx=%221.83%22 ry=%221.507%22 fill=%22%23fff%22 opacity=%22.857%22%2F%3E%3Cellipse cx=%221839.431%22 cy=%22753.351%22 rx=%221.759%22 ry=%221.41%22 fill=%22%23fff%22 opacity=%22.201%22%2F%3E%3Cellipse cx=%221885.541%22 cy=%22730.264%22 rx=%222.199%22 ry=%221.719%22 fill=%22%23fff%22 opacity=%22.747%22%2F%3E%3Cellipse cx=%221990.463%22 cy=%22733.016%22 rx=%221.868%22 ry=%221.666%22 fill=%22%23fff%22 opacity=%22.165%22%2F%3E%3Cellipse cx=%2236.016%22 cy=%22789.659%22 rx=%221.524%22 ry=%221.132%22 fill=%22%23fff%22 opacity=%22.354%22%2F%3E%3Cellipse cx=%2298.943%22 cy=%22808.649%22 rx=%221.539%22 ry=%221.441%22 fill=%22%23fff%22 opacity=%22.664%22%2F%3E%3Cellipse cx=%22220.187%22 cy=%22819.823%22 rx=%222.015%22 ry=%221.812%22 fill=%22%23fff%22 opacity=%22.133%22%2F%3E%3Cellipse cx=%22281.752%22 cy=%22819.431%22 rx=%221.678%22 ry=%221.208%22 fill=%22%23fff%22 opacity=%22.576%22%2F%3E%3Cellipse cx=%22354.418%22 cy=%22829.95%22 rx=%221.474%22 ry=%221.036%22 fill=%22%23fff%22 opacity=%22.195%22%2F%3E%3Cellipse cx=%22458.889%22 cy=%22787.42%22 rx=%221.71%22 ry=%221.524%22 fill=%22%23fff%22 opacity=%22-.1%22%2F%3E%3Cellipse cx=%22557.158%22 cy=%22795.707%22 rx=%221.445%22 ry=%221.11%22 fill=%22%23fff%22 opacity=%22.026%22%2F%3E%3Cellipse cx=%22583.515%22 cy=%22835.442%22 rx=%221.377%22 ry=%221.353%22 fill=%22%23fff%22 opacity=%22.561%22%2F%3E%3Cellipse cx=%22670.155%22 cy=%22826.882%22 rx=%221.16%22 ry=%221.142%22 fill=%22%23fff%22 opacity=%22.368%22%2F%3E%3Cellipse cx=%22788.097%22 cy=%22828.021%22 rx=%222.096%22 ry=%221.786%22 fill=%22%23fff%22 opacity=%22.947%22%2F%3E%3Cellipse cx=%22858.032%22 cy=%22815.16%22 rx=%221.664%22 ry=%221.237%22 fill=%22%23fff%22 opacity=%22.336%22%2F%3E%3Cellipse cx=%22880.334%22 cy=%22803.216%22 rx=%222.215%22 ry=%221.95%22 fill=%22%23fff%22 opacity=%22.595%22%2F%3E%3Cellipse cx=%22982.433%22 cy=%22797.964%22 rx=%221.51%22 ry=%221.262%22 fill=%22%23fff%22 opacity=%22.683%22%2F%3E%3Cellipse cx=%221114.015%22 cy=%22811.564%22 rx=%221.813%22 ry=%221.663%22 fill=%22%23fff%22 opacity=%22-.107%22%2F%3E%3Cellipse cx=%221188.68%22 cy=%22789.598%22 rx=%221.411%22 ry=%221.338%22 fill=%22%23fff%22 opacity=%22.063%22%2F%3E%3Cellipse cx=%221204.998%22 cy=%22807.791%22 rx=%221.737%22 ry=%221.598%22 fill=%22%23fff%22 opacity=%22.067%22%2F%3E%3Cellipse cx=%221317.21%22 cy=%22838.089%22 rx=%221.573%22 ry=%221.496%22 fill=%22%23fff%22 opacity=%22.619%22%2F%3E%3Cellipse cx=%221376.028%22 cy=%22786.023%22 rx=%221.743%22 ry=%221.393%22 fill=%22%23fff%22 opacity=%22-.11%22%2F%3E%3Cellipse cx=%221481.973%22 cy=%22822.594%22 rx=%221.631%22 ry=%221.34%22 fill=%22%23fff%22 opacity=%22.177%22%2F%3E%3Cellipse cx=%221591.914%22 cy=%22797.731%22 rx=%221.237%22 ry=%221.177%22 fill=%22%23fff%22 opacity=%22.707%22%2F%3E%3Cellipse cx=%221640.161%22 cy=%22821.919%22 rx=%221.428%22 ry=%221.251%22 fill=%22%23fff%22 opacity=%22.498%22%2F%3E%3Cellipse cx=%221706.876%22 cy=%22800.345%22 rx=%222.284%22 ry=%221.917%22 fill=%22%23fff%22 opacity=%22-.166%22%2F%3E%3Cellipse cx=%221777.444%22 cy=%22794.788%22 rx=%222.333%22 ry=%221.905%22 fill=%22%23fff%22 opacity=%22.342%22%2F%3E%3Cellipse cx=%221903.563%22 cy=%22785.243%22 rx=%221.972%22 ry=%221.535%22 fill=%22%23fff%22 opacity=%22.02%22%2F%3E%3Cellipse cx=%221931.599%22 cy=%22819.158%22 rx=%222.363%22 ry=%221.896%22 fill=%22%23fff%22 opacity=%22.154%22%2F%3E%3Cellipse cx=%2247.805%22 cy=%22856.683%22 rx=%222.204%22 ry=%221.946%22 fill=%22%23fff%22 opacity=%22.11%22%2F%3E%3Cellipse cx=%22157.811%22 cy=%22882.43%22 rx=%221.956%22 ry=%221.728%22 fill=%22%23fff%22 opacity=%22-.1%22%2F%3E%3Cellipse cx=%22235.462%22 cy=%22853.417%22 rx=%221.448%22 ry=%221.053%22 fill=%22%23fff%22 opacity=%22.271%22%2F%3E%3Cellipse cx=%22263.073%22 cy=%22866.138%22 rx=%221.767%22 ry=%221.641%22 fill=%22%23fff%22 opacity=%22.227%22%2F%3E%3Cellipse cx=%22395.492%22 cy=%22852.098%22 rx=%222.057%22 ry=%221.855%22 fill=%22%23fff%22 opacity=%22.795%22%2F%3E%3Cellipse cx=%22423.215%22 cy=%22894.956%22 rx=%222.09%22 ry=%221.816%22 fill=%22%23fff%22 opacity=%22-.054%22%2F%3E%3Cellipse cx=%22559.571%22 cy=%22859.373%22 rx=%221.339%22 ry=%221.155%22 fill=%22%23fff%22 opacity=%22.004%22%2F%3E%3Cellipse cx=%22611.413%22 cy=%22844.063%22 rx=%221.016%22 ry=%221.003%22 fill=%22%23fff%22 opacity=%22.2%22%2F%3E%3Cellipse cx=%22703.759%22 cy=%22886.804%22 rx=%221.519%22 ry=%221.243%22 fill=%22%23fff%22 opacity=%22.42%22%2F%3E%3Cellipse cx=%22766.471%22 cy=%22847.533%22 rx=%221.285%22 ry=%221.098%22 fill=%22%23fff%22 opacity=%22.776%22%2F%3E%3Cellipse cx=%22800.328%22 cy=%22886.845%22 rx=%222.217%22 ry=%221.897%22 fill=%22%23fff%22 opacity=%22.319%22%2F%3E%3Cellipse cx=%22891.815%22 cy=%22845.776%22 rx=%221.996%22 ry=%221.925%22 fill=%22%23fff%22 opacity=%22.075%22%2F%3E%3Cellipse cx=%22964.266%22 cy=%22864.842%22 rx=%221.852%22 ry=%221.563%22 fill=%22%23fff%22 opacity=%22.623%22%2F%3E%3Cellipse cx=%221075.644%22 cy=%22846.766%22 rx=%221.38%22 ry=%221.186%22 fill=%22%23fff%22 opacity=%22-.168%22%2F%3E%3Cellipse cx=%221159.061%22 cy=%22890.571%22 rx=%221.999%22 ry=%221.886%22 fill=%22%23fff%22 opacity=%22.63%22%2F%3E%3Cellipse cx=%221256.048%22 cy=%22885.192%22 rx=%222.139%22 ry=%221.666%22 fill=%22%23fff%22 opacity=%22.14%22%2F%3E%3Cellipse cx=%221318.407%22 cy=%22862.705%22 rx=%221.777%22 ry=%221.733%22 fill=%22%23fff%22 opacity=%22.409%22%2F%3E%3Cellipse cx=%221360.995%22 cy=%22895.856%22 rx=%222.412%22 ry=%221.937%22 fill=%22%23fff%22 opacity=%22.696%22%2F%3E%3Cellipse cx=%221516.656%22 cy=%22856.171%22 rx=%221.734%22 ry=%221.549%22 fill=%22%23fff%22 opacity=%22.81%22%2F%3E%3Cellipse cx=%221565.085%22 cy=%22880.781%22 rx=%222.147%22 ry=%221.957%22 fill=%22%23fff%22 opacity=%22.287%22%2F%3E%3Cellipse cx=%221644.292%22 cy=%22860.626%22 rx=%221.312%22 ry=%221.232%22 fill=%22%23fff%22 opacity=%22.587%22%2F%3E%3Cellipse cx=%221707.674%22 cy=%22854.402%22 rx=%221.301%22 ry=%221.039%22 fill=%22%23fff%22 opacity=%22.038%22%2F%3E%3Cellipse cx=%221835.082%22 cy=%22862.898%22 rx=%221.789%22 ry=%221.499%22 fill=%22%23fff%22 opacity=%22.173%22%2F%3E%3Cellipse cx=%221868.011%22 cy=%22880.281%22 rx=%221.966%22 ry=%221.783%22 fill=%22%23fff%22 opacity=%22.274%22%2F%3E%3Cellipse cx=%221926.254%22 cy=%22890.042%22 rx=%222.295%22 ry=%221.843%22 fill=%22%23fff%22 opacity=%22-.086%22%2F%3E%3Cellipse cx=%2232.842%22 cy=%22915.86%22 rx=%222.034%22 ry=%221.928%22 fill=%22%23fff%22 opacity=%22.331%22%2F%3E%3Cellipse cx=%22117.504%22 cy=%22914.361%22 rx=%221.239%22 ry=%221.203%22 fill=%22%23fff%22 opacity=%22.29%22%2F%3E%3Cellipse cx=%22201.162%22 cy=%22947.439%22 rx=%221.681%22 ry=%221.54%22 fill=%22%23fff%22 opacity=%22.47%22%2F%3E%3Cellipse cx=%22319.561%22 cy=%22897.599%22 rx=%221.322%22 ry=%221.315%22 fill=%22%23fff%22 opacity=%22-.161%22%2F%3E%3Cellipse cx=%22342.508%22 cy=%22951.095%22 rx=%221.558%22 ry=%221.297%22 fill=%22%23fff%22 opacity=%22.087%22%2F%3E%3Cellipse cx=%22449.268%22 cy=%22913.564%22 rx=%222.267%22 ry=%221.934%22 fill=%22%23fff%22 opacity=%22-.219%22%2F%3E%3Cellipse cx=%22538.805%22 cy=%22901.905%22 rx=%221.326%22 ry=%221.104%22 fill=%22%23fff%22 opacity=%22-.138%22%2F%3E%3Cellipse cx=%22619.432%22 cy=%22933.715%22 rx=%221.997%22 ry=%221.578%22 fill=%22%23fff%22 opacity=%22.156%22%2F%3E%3Cellipse cx=%22692.336%22 cy=%22923.632%22 rx=%222.092%22 ry=%221.788%22 fill=%22%23fff%22 opacity=%22.626%22%2F%3E%3Cellipse cx=%22793.006%22 cy=%22915.087%22 rx=%221.861%22 ry=%221.495%22 fill=%22%23fff%22 opacity=%22.627%22%2F%3E%3Cellipse cx=%22856.112%22 cy=%22920.926%22 rx=%221.757%22 ry=%221.35%22 fill=%22%23fff%22 opacity=%22.229%22%2F%3E%3Cellipse cx=%22943.491%22 cy=%22902.385%22 rx=%221.93%22 ry=%221.755%22 fill=%22%23fff%22 opacity=%22.867%22%2F%3E%3Cellipse cx=%22985.88%22 cy=%22951.403%22 rx=%221.37%22 ry=%221.191%22 fill=%22%23fff%22 opacity=%22.081%22%2F%3E%3Cellipse cx=%221086.419%22 cy=%22909.115%22 rx=%221.783%22 ry=%221.306%22 fill=%22%23fff%22 opacity=%22.76%22%2F%3E%3Cellipse cx=%221157.339%22 cy=%22935.235%22 rx=%222.246%22 ry=%221.87%22 fill=%22%23fff%22 opacity=%22.815%22%2F%3E%3Cellipse cx=%221276.617%22 cy=%22931.249%22 rx=%221.727%22 ry=%221.481%22 fill=%22%23fff%22 opacity=%22.416%22%2F%3E%3Cellipse cx=%221303.664%22 cy=%22909.499%22 rx=%221.519%22 ry=%221.172%22 fill=%22%23fff%22 opacity=%22.791%22%2F%3E%3Cellipse cx=%221415.661%22 cy=%22918.97%22 rx=%222.206%22 ry=%221.874%22 fill=%22%23fff%22 opacity=%22.528%22%2F%3E%3Cellipse cx=%221482.265%22 cy=%22940.359%22 rx=%221.626%22 ry=%221.454%22 fill=%22%23fff%22 opacity=%22.252%22%2F%3E%3Cellipse cx=%221520.498%22 cy=%22914.754%22 rx=%221.898%22 ry=%221.513%22 fill=%22%23fff%22 opacity=%22.462%22%2F%3E%3Cellipse cx=%221615.431%22 cy=%22938.312%22 rx=%222.166%22 ry=%221.755%22 fill=%22%23fff%22 opacity=%22.78%22%2F%3E%3Cellipse cx=%221739.512%22 cy=%22916.788%22 rx=%221.786%22 ry=%221.412%22 fill=%22%23fff%22 opacity=%22.693%22%2F%3E%3Cellipse cx=%221830.015%22 cy=%22908.552%22 rx=%221.975%22 ry=%221.89%22 fill=%22%23fff%22 opacity=%22-.137%22%2F%3E%3Cellipse cx=%221845.77%22 cy=%22942.618%22 rx=%222.307%22 ry=%221.986%22 fill=%22%23fff%22 opacity=%22.221%22%2F%3E%3Cellipse cx=%221999.456%22 cy=%22939.222%22 rx=%221.812%22 ry=%221.341%22 fill=%22%23fff%22 opacity=%22.647%22%2F%3E%3Cellipse cx=%2254.795%22 cy=%22958.251%22 rx=%222.351%22 ry=%221.853%22 fill=%22%23fff%22 opacity=%22.382%22%2F%3E%3Cellipse cx=%2285.129%22 cy=%22986.118%22 rx=%221.446%22 ry=%221.159%22 fill=%22%23fff%22 opacity=%22.866%22%2F%3E%3Cellipse cx=%22233.028%22 cy=%22995.945%22 rx=%222.416%22 ry=%221.923%22 fill=%22%23fff%22 opacity=%22.788%22%2F%3E%3Cellipse cx=%22255.055%22 cy=%22993.883%22 rx=%222.256%22 ry=%221.989%22 fill=%22%23fff%22 opacity=%22.532%22%2F%3E%3Cellipse cx=%22386.906%22 cy=%22969.478%22 rx=%222.155%22 ry=%221.887%22 fill=%22%23fff%22 opacity=%22.278%22%2F%3E%3Cellipse cx=%22426.294%22 cy=%22964.77%22 rx=%221.903%22 ry=%221.893%22 fill=%22%23fff%22 opacity=%22-.147%22%2F%3E%3Cellipse cx=%22515.405%22 cy=%22956.615%22 rx=%221.541%22 ry=%221.537%22 fill=%22%23fff%22 opacity=%22.647%22%2F%3E%3Cellipse cx=%22595.098%22 cy=%22954.235%22 rx=%221.414%22 ry=%221.326%22 fill=%22%23fff%22 opacity=%22.014%22%2F%3E%3Cellipse cx=%22649.091%22 cy=%221005.206%22 rx=%221.646%22 ry=%221.471%22 fill=%22%23fff%22 opacity=%22.286%22%2F%3E%3Cellipse cx=%22725.705%22 cy=%22978.746%22 rx=%222.308%22 ry=%221.883%22 fill=%22%23fff%22 opacity=%22.396%22%2F%3E%3Cellipse cx=%22808.964%22 cy=%22956.112%22 rx=%222.333%22 ry=%221.938%22 fill=%22%23fff%22 opacity=%22.239%22%2F%3E%3Cellipse cx=%22886.264%22 cy=%22989.167%22 rx=%222.29%22 ry=%221.798%22 fill=%22%23fff%22 opacity=%22.692%22%2F%3E%3Cellipse cx=%22969.978%22 cy=%22954.576%22 rx=%221.99%22 ry=%221.627%22 fill=%22%23fff%22 opacity=%22.722%22%2F%3E%3Cellipse cx=%221094.849%22 cy=%22971.793%22 rx=%222.283%22 ry=%221.833%22 fill=%22%23fff%22 opacity=%22.631%22%2F%3E%3Cellipse cx=%221175.378%22 cy=%22970.362%22 rx=%222.137%22 ry=%221.649%22 fill=%22%23fff%22 opacity=%22.092%22%2F%3E%3Cellipse cx=%221271.282%22 cy=%22999.709%22 rx=%221.419%22 ry=%221.418%22 fill=%22%23fff%22 opacity=%22.982%22%2F%3E%3Cellipse cx=%221311.866%22 cy=%221001.95%22 rx=%221.921%22 ry=%221.847%22 fill=%22%23fff%22 opacity=%22.399%22%2F%3E%3Cellipse cx=%221404.447%22 cy=%22955.498%22 rx=%221.582%22 ry=%221.235%22 fill=%22%23fff%22 opacity=%22.652%22%2F%3E%3Cellipse cx=%221443.133%22 cy=%22961.239%22 rx=%221.822%22 ry=%221.543%22 fill=%22%23fff%22 opacity=%22.247%22%2F%3E%3Cellipse cx=%221572.152%22 cy=%22976.629%22 rx=%221.697%22 ry=%221.443%22 fill=%22%23fff%22 opacity=%22.095%22%2F%3E%3Cellipse cx=%221651.847%22 cy=%221000.391%22 rx=%221.475%22 ry=%221.396%22 fill=%22%23fff%22 opacity=%22.394%22%2F%3E%3Cellipse cx=%221700.075%22 cy=%22962.267%22 rx=%221.329%22 ry=%221.035%22 fill=%22%23fff%22 opacity=%22.337%22%2F%3E%3Cellipse cx=%221797.375%22 cy=%22967.696%22 rx=%221.653%22 ry=%221.328%22 fill=%22%23fff%22 opacity=%22.702%22%2F%3E%3Cellipse cx=%221856.276%22 cy=%22959.594%22 rx=%221.517%22 ry=%221.402%22 fill=%22%23fff%22 opacity=%22.441%22%2F%3E%3Cellipse cx=%221934.158%22 cy=%221007.721%22 rx=%221.439%22 ry=%221.225%22 fill=%22%23fff%22 opacity=%22.051%22%2F%3E%3Cellipse cx=%2242.622%22 cy=%221020.145%22 rx=%221.022%22 ry=%221.001%22 fill=%22%23fff%22 opacity=%22.774%22%2F%3E%3Cellipse cx=%22132.072%22 cy=%221030.062%22 rx=%221.759%22 ry=%221.274%22 fill=%22%23fff%22 opacity=%22.047%22%2F%3E%3Cellipse cx=%22174.916%22 cy=%221025.812%22 rx=%221.641%22 ry=%221.575%22 fill=%22%23fff%22 opacity=%22.631%22%2F%3E%3Cellipse cx=%22246.578%22 cy=%221056.139%22 rx=%221.492%22 ry=%221.212%22 fill=%22%23fff%22 opacity=%22.749%22%2F%3E%3Cellipse cx=%22324.615%22 cy=%221032.467%22 rx=%222.089%22 ry=%221.84%22 fill=%22%23fff%22 opacity=%22.156%22%2F%3E%3Cellipse cx=%22474.144%22 cy=%221036.926%22 rx=%222.105%22 ry=%221.875%22 fill=%22%23fff%22 opacity=%22.656%22%2F%3E%3Cellipse cx=%22505.541%22 cy=%221033.653%22 rx=%221.933%22 ry=%221.597%22 fill=%22%23fff%22 opacity=%22.315%22%2F%3E%3Cellipse cx=%22582.62%22 cy=%221037.826%22 rx=%222.049%22 ry=%221.976%22 fill=%22%23fff%22 opacity=%22.66%22%2F%3E%3Cellipse cx=%22783.771%22 cy=%221044.749%22 rx=%222.244%22 ry=%221.862%22 fill=%22%23fff%22 opacity=%22.335%22%2F%3E%3Cellipse cx=%22849.187%22 cy=%221043.211%22 rx=%221.485%22 ry=%221.453%22 fill=%22%23fff%22 opacity=%22.578%22%2F%3E%3Cellipse cx=%22958.21%22 cy=%221018.697%22 rx=%221.326%22 ry=%221.224%22 fill=%22%23fff%22 opacity=%22.228%22%2F%3E%3Cellipse cx=%22967.782%22 cy=%221040.009%22 rx=%221.659%22 ry=%221.271%22 fill=%22%23fff%22 opacity=%22.381%22%2F%3E%3Cellipse cx=%221059.001%22 cy=%221058.087%22 rx=%222.092%22 ry=%221.732%22 fill=%22%23fff%22 opacity=%22.188%22%2F%3E%3Cellipse cx=%221181.237%22 cy=%221035.186%22 rx=%221.637%22 ry=%221.376%22 fill=%22%23fff%22 opacity=%22.115%22%2F%3E%3Cellipse cx=%221206.539%22 cy=%221062.852%22 rx=%222.432%22 ry=%221.936%22 fill=%22%23fff%22 opacity=%22.618%22%2F%3E%3Cellipse cx=%221353.365%22 cy=%221017.051%22 rx=%221.802%22 ry=%221.791%22 fill=%22%23fff%22 opacity=%22.933%22%2F%3E%3Cellipse cx=%221395.669%22 cy=%221030.742%22 rx=%221.612%22 ry=%221.447%22 fill=%22%23fff%22 opacity=%22.709%22%2F%3E%3Cellipse cx=%221508.917%22 cy=%221013.516%22 rx=%221.554%22 ry=%221.196%22 fill=%22%23fff%22 opacity=%22.506%22%2F%3E%3Cellipse cx=%221548.442%22 cy=%221017.196%22 rx=%222.301%22 ry=%221.91%22 fill=%22%23fff%22 opacity=%22-.04%22%2F%3E%3Cellipse cx=%221611.794%22 cy=%221036.774%22 rx=%221.47%22 ry=%221.112%22 fill=%22%23fff%22 opacity=%22.535%22%2F%3E%3Cellipse cx=%221703.313%22 cy=%221009.828%22 rx=%221.642%22 ry=%221.497%22 fill=%22%23fff%22 opacity=%22.719%22%2F%3E%3Cellipse cx=%221781.075%22 cy=%221023.466%22 rx=%222.298%22 ry=%221.998%22 fill=%22%23fff%22 opacity=%22.673%22%2F%3E%3Cellipse cx=%221886.428%22 cy=%221060.324%22 rx=%221.565%22 ry=%221.177%22 fill=%22%23fff%22 opacity=%22.735%22%2F%3E%3Cellipse cx=%221992.227%22 cy=%221049.738%22 rx=%221.677%22 ry=%221.189%22 fill=%22%23fff%22 opacity=%22-.09%22%2F%3E%3Cellipse cx=%2274.397%22 cy=%221098.709%22 rx=%221.603%22 ry=%221.214%22 fill=%22%23fff%22 opacity=%22.564%22%2F%3E%3Cellipse cx=%2289.72%22 cy=%221102.655%22 rx=%221.71%22 ry=%221.616%22 fill=%22%23fff%22 opacity=%22.089%22%2F%3E%3Cellipse cx=%22185.803%22 cy=%221094.362%22 rx=%222.041%22 ry=%221.674%22 fill=%22%23fff%22 opacity=%22.639%22%2F%3E%3Cellipse cx=%22260.576%22 cy=%221112.409%22 rx=%221.657%22 ry=%221.26%22 fill=%22%23fff%22 opacity=%22-.016%22%2F%3E%3Cellipse cx=%22333.079%22 cy=%221079.492%22 rx=%221.384%22 ry=%221.309%22 fill=%22%23fff%22 opacity=%22.401%22%2F%3E%3Cellipse cx=%22414.558%22 cy=%221112.995%22 rx=%221.972%22 ry=%221.654%22 fill=%22%23fff%22 opacity=%22-.017%22%2F%3E%3Cellipse cx=%22558.773%22 cy=%221069.815%22 rx=%221.434%22 ry=%221.08%22 fill=%22%23fff%22 opacity=%22.662%22%2F%3E%3Cellipse cx=%22593.088%22 cy=%221077.778%22 rx=%222.227%22 ry=%221.951%22 fill=%22%23fff%22 opacity=%22.795%22%2F%3E%3Cellipse cx=%22688.764%22 cy=%221114.459%22 rx=%221.482%22 ry=%221.053%22 fill=%22%23fff%22 opacity=%22.739%22%2F%3E%3Cellipse cx=%22763.381%22 cy=%221090.335%22 rx=%221.943%22 ry=%221.794%22 fill=%22%23fff%22 opacity=%22-.126%22%2F%3E%3Cellipse cx=%22864.381%22 cy=%221118.184%22 rx=%221.944%22 ry=%221.675%22 fill=%22%23fff%22 opacity=%22.604%22%2F%3E%3Cellipse cx=%22922.293%22 cy=%221085.543%22 rx=%221.966%22 ry=%221.9%22 fill=%22%23fff%22 opacity=%22.342%22%2F%3E%3Cellipse cx=%221010.259%22 cy=%221095.113%22 rx=%221.917%22 ry=%221.869%22 fill=%22%23fff%22 opacity=%22.266%22%2F%3E%3Cellipse cx=%221084.996%22 cy=%221076.824%22 rx=%221.656%22 ry=%221.218%22 fill=%22%23fff%22 opacity=%22.482%22%2F%3E%3Cellipse cx=%221132.725%22 cy=%221064.767%22 rx=%222.308%22 ry=%221.934%22 fill=%22%23fff%22 opacity=%22.677%22%2F%3E%3Cellipse cx=%221263.516%22 cy=%221102.499%22 rx=%221.815%22 ry=%221.497%22 fill=%22%23fff%22 opacity=%22.198%22%2F%3E%3Cellipse cx=%221332.674%22 cy=%221105.942%22 rx=%221.56%22 ry=%221.203%22 fill=%22%23fff%22 opacity=%22-.002%22%2F%3E%3Cellipse cx=%221405.663%22 cy=%221104.755%22 rx=%222.199%22 ry=%221.917%22 fill=%22%23fff%22 opacity=%22.418%22%2F%3E%3Cellipse cx=%221503.798%22 cy=%221100.49%22 rx=%222.131%22 ry=%221.778%22 fill=%22%23fff%22 opacity=%22.422%22%2F%3E%3Cellipse cx=%221554.357%22 cy=%221072.887%22 rx=%221.507%22 ry=%221.325%22 fill=%22%23fff%22 opacity=%22.341%22%2F%3E%3Cellipse cx=%221678.935%22 cy=%221104.8%22 rx=%221.895%22 ry=%221.561%22 fill=%22%23fff%22 opacity=%22.277%22%2F%3E%3Cellipse cx=%221719.087%22 cy=%221071.066%22 rx=%222.073%22 ry=%221.622%22 fill=%22%23fff%22 opacity=%22.081%22%2F%3E%3Cellipse cx=%221819.362%22 cy=%221118.091%22 rx=%221.975%22 ry=%221.731%22 fill=%22%23fff%22 opacity=%22.967%22%2F%3E%3Cellipse cx=%221865.484%22 cy=%221119.941%22 rx=%221.763%22 ry=%221.361%22 fill=%22%23fff%22 opacity=%22-.04%22%2F%3E%3Cellipse cx=%221929.232%22 cy=%221073.803%22 rx=%222.388%22 ry=%221.945%22 fill=%22%23fff%22 opacity=%22.801%22%2F%3E%3Cg transform=%22rotate(-57.868 448.874 -575.83)%22%3E%3Cdefs%3E%3ClinearGradient id=%22a%22 x1=%220%22 y1=%221%22 x2=%22246.558%22 y2=%221%22 gradientUnits=%22userSpaceOnUse%22%3E%3Cstop stop-color=%22%23fff%22%2F%3E%3Cstop offset=%22.3%22 stop-color=%22%23fff%22 stop-opacity=%22.1%22%2F%3E%3Cstop offset=%22.7%22 stop-color=%22%23fff%22 stop-opacity=%220%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Crect x=%22-12.328%22 y=%22-12.5%22 width=%2298.623%22 height=%2225%22 rx=%2225%22 ry=%2225%22 fill=%22url(%23a)%22 filter=%22url(%23b)%22 opacity=%22.4%22%2F%3E%3Crect width=%22147.935%22 height=%228%22 rx=%228%22 ry=%228%22 fill=%22url(%23a)%22%2F%3E%3C%2Fg%3E%3Cg transform=%22rotate(-64.433 1197.44 -1247.836)%22 fill=%22url(%23a)%22%3E%3Crect x=%22-9.383%22 y=%22-12.5%22 width=%2275.061%22 height=%2225%22 rx=%2225%22 ry=%2225%22 filter=%22url(%23b)%22 opacity=%22.4%22%2F%3E%3Crect width=%22112.591%22 height=%228%22 rx=%228%22 ry=%228%22%2F%3E%3C%2Fg%3E%3Cg transform=%22rotate(-56.69 1251.893 4.28)%22 fill=%22url(%23a)%22%3E%3Crect x=%22-10.144%22 y=%22-12.5%22 width=%2281.152%22 height=%2225%22 rx=%2225%22 ry=%2225%22 filter=%22url(%23b)%22 opacity=%22.4%22%2F%3E%3Crect width=%22121.727%22 height=%228%22 rx=%228%22 ry=%228%22%2F%3E%3C%2Fg%3E%3Cg transform=%22rotate(-58.127 1538.724 -1068.023)%22 fill=%22url(%23a)%22%3E%3Crect x=%22-8.459%22 y=%22-12.5%22 width=%2267.676%22 height=%2225%22 rx=%2225%22 ry=%2225%22 filter=%22url(%23b)%22 opacity=%22.4%22%2F%3E%3Crect width=%22101.513%22 height=%228%22 rx=%228%22 ry=%228%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E");
        }
        </style>
        """
        st.markdown(page_bg_img, unsafe_allow_html=True)


# Add theme selection buttons to the top right corner
theme = st.sidebar.radio("Choose Theme", ("Normal", "Night Sky"))
set_theme(theme.lower())


def main():
    with ChatBot:
        model = genai.GenerativeModel("gemini-pro")

        def parse_date_query(question):
            date_yesterday_pattern = re.compile(r'\b(yesterday|today|tomorrow)\b', re.IGNORECASE)
            date_specific_pattern = re.compile(r'\b(\d{4}-\d{2}-\d{2})\b')

            match_yesterday = date_yesterday_pattern.search(question)
            match_specific = date_specific_pattern.search(question)

            if match_yesterday:
                return match_yesterday.group(0).lower()
            elif match_specific:
                return match_specific.group(0)
            return None

        def get_gemini_response(question):
            # Check if the question contains any date-related query
            date_query = parse_date_query(question)
            if date_query:
                # Handle date-related queries
                if date_query == "today":
                    response = datetime.now().strftime("%Y-%m-%d")
                elif date_query == "yesterday":
                    response = (datetime.now() - timedelta(days=1)).strftime("%Y-%m-%d")
                elif date_query == "tomorrow":
                    response = (datetime.now() + timedelta(days=1)).strftime("%Y-%m-%d")
                else:
                    response = date_query  # Return the specific date if provided
            else:
                # Use Gemini model to generate response
                response = model.generate_content(question).text

            return response

        # Initialize our Streamlit app
        input_text = st.text_input("Input: ")
        submit_button = st.button("Ask the question")

        # Submit only visible is input not empty
        if input_text:
            # When submit button is clicked
            if submit_button:
                try:
                    response_text = get_gemini_response(input_text)
                    st.subheader("Response is")
                    st.write(response_text)
                except Exception as e:
                    print("Invalid Input!" + str(e))

    with Image_Caption:
        model = genai.GenerativeModel("gemini-pro-vision")

        def get_gemini_response(input, image):
            if input != "":
                response = model.generate_content([input, image])
            else:
                response = model.generate_content(image)
            return response.text

        ##initialize our streamlit app
        input_text = st.text_input("Input: ", key="input")

        uploaded_file = st.file_uploader("Choose an image", type=["jpg", "jpeg", "png"])
        image = ""
        if uploaded_file is not None:
            image = Image.open(uploaded_file)
            st.image(image, caption="Uploaded Image.", use_column_width=True)

        # Button to submit and get Gemini response
        if st.button("Submit"):
            response = get_gemini_response(input_text, image)
            st.subheader("Response is")
            st.write(response)

    with PDF_Summarizer:
        CHAT_HISTORY = []

        def get_pdf_text(pdf_docs: list) -> str:
            """Extract text from PDF documents."""
            text = ""
            for pdf in pdf_docs:
                try:
                    if isinstance(pdf, bytes):
                        pdf = io.BytesIO(pdf)
                    pdf_reader = PdfReader(pdf)
                    for page in pdf_reader.pages:
                        text += page.extract_text()
                except PdfReadError as e:
                    st.error(f"Error reading PDF: {e}. The PDF file may be corrupt or improperly formatted.")
                    continue
            return text

        def get_text_chunks(text: str) -> list:
            """Split text into smaller chunks."""
            text_splitter = RecursiveCharacterTextSplitter(chunk_size=10000, chunk_overlap=1000)
            chunks = text_splitter.split_text(text)
            return chunks

        def get_vector_store(text_chunks: list) -> None:
            """Create and save vector store."""
            embeddings = GoogleGenerativeAIEmbeddings(model="models/embedding-001")
            if embeddings is None:
                st.error("Error: No embeddings found.")
                return

            try:
                vector_store = FAISS.from_texts(text_chunks, embedding=embeddings)
                vector_store.save_local("faiss_index")
            except Exception as e:
                st.error(f"Error creating FAISS index: {e}")
                return

        def get_conversational_chain() -> object:
            """Load conversational chain for question answering."""
            prompt_template = """Answer the question as detailed as possible from the provided context, make sure to provide 
            all the details, if the answer is not in the provided context, just say, "answer is not available in the context",
            don't provide the wrong answer\n\n
            Context:\n {context}?\n
            Question: \n{question}\n

            Answer:
            """
            api_key = os.getenv("GOOGLE_API_KEY")
            model = ChatGoogleGenerativeAI(model="gemini-pro", temperature=0.3, api_key=api_key)

            prompt = PromptTemplate(template=prompt_template, input_variables=["context", "question"])
            chain = load_qa_chain(model, chain_type="stuff", prompt=prompt)
            return chain

        def user_input(user_question: str) -> None:
            """Handle user input and generate response."""
            embeddings = GoogleGenerativeAIEmbeddings(model="models/embedding-001")

            try:
                new_db = FAISS.load_local("faiss_index", embeddings, allow_dangerous_deserialization=True)
            except ValueError as e:
                st.error(f"Error loading FAISS: {e}")
                return

            docs = new_db.similarity_search(user_question)
            chain = get_conversational_chain()

            response = chain({"input_documents": docs, "question": user_question}, return_only_outputs=True)

            # Append user question and reply to chat history
            CHAT_HISTORY.append({"user": user_question, "reply": response["output_text"]})

        def summarizer() -> None:
            user_question = st.text_input("Ask a Question from the PDF Files")

            if user_question:
                user_input(user_question)

            with st.sidebar:
                st.title("Menu")
                pdf_docs = st.file_uploader("Upload your PDF Files and Click on the Submit and process ",
                                            accept_multiple_files=True)
                if st.button("Submit & Process"):
                    with st.spinner("Processing..."):
                        raw_text = get_pdf_text(pdf_docs)
                        text_chunks = get_text_chunks(raw_text)
                        get_vector_store(text_chunks)
                        st.success("Done")

            for chat in CHAT_HISTORY:
                st.write(f"Reply: {chat['reply']}")
                st.write("---")  # Separator

        summarizer()


if __name__ == "__main__":
    main()
